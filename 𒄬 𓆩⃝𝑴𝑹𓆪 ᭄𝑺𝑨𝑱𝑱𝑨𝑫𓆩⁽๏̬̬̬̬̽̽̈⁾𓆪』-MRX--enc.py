import base64
exec(base64.b64decode("IyBjb2RlIGJ5IFlheWFuLXhkDQojIG15IGZhY2Vib29rICggaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL0tNMzk0NTMgKQ0KIA0KIyAgICAgIChDKSBDb3B5cmlnaHQgNDA3IEF1dGhlbnRpYyBFeHBsb2l0DQojICAgICAgUmVidWlsZCBDb3B5cmlnaHQgQ2FuJ3QgbWFrZSB1IHJlYWwgcHJvZ3JhbW1lcjopDQojICAgICAgQ29kZWQgQnkgWWF5YW4gWEQuDQogDQppbXBvcnQgb3MNCnRyeToNCiAgICBpbXBvcnQgcmVxdWVzdHMNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW8OXXSBNb2R1bCByZXF1ZXN0cyBiZWx1bSB0ZXJpbnN0YWxsIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykNCiANCnRyeToNCiAgICBpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgcHJpbnQoJ1xuIFvDl10gTW9kdWwgRnV0dXJlcyBiZWx1bSB0ZXJpbnN0YWxsIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQ0KIA0KdHJ5Og0KICAgIGltcG9ydCBiczQNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW8OXXSBNb2R1bCBCczQgYmVsdW0gdGVyaW5zdGFsbCEuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KIA0KaW1wb3J0IHJlcXVlc3RzLCBvcywgcmUsIGJzNCwgc3lzLCBqc29uLCB0aW1lLCByYW5kb20sIGRhdGV0aW1lLCBzdWJwcm9jZXNzDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFlheWFuR2FudGVuZw0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwDQpjdCA9IGRhdGV0aW1lLm5vdygpDQpuID0gY3QubW9udGgNCmJ1bGFuID0gWydKYW51YXJpJywgJ0ZlYnJ1YXJpJywgJ01hcmV0JywgJ0FwcmlsJywgJ01laScsICdKdW5pJywgJ0p1bGknLCAnQWd1c3R1cycsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsICdOb3ZlbWJlcicsICdEZXNlbWJlciddDQp0cnk6DQogICAgaWYgbiA8IDAgb3IgbiA+IDEyOg0KICAgICAgICBleGl0KCkNCiAgICBuVGVtcCA9IG4gLSAxDQpleGNlcHQgVmFsdWVFcnJvcjoNCiAgICBleGl0KCkNCiANCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQ0KdGEgPSBjdXJyZW50LnllYXINCmJ1ID0gY3VycmVudC5tb250aA0KaGEgPSBjdXJyZW50LmRheQ0Kb3AgPSBidWxhbltuVGVtcF0NCndha3R1ID0gJyVzICVzICVzJyUoaGEsb3AsdGEpDQp3YWt0dS5zcGxpdCgnLycpDQojIyMgV0FSTkEgUkFORE9NICMjIw0KUCA9ICdceDFiWzE7OTdtJyAjIFBVVElIDQpNID0gJ1x4MWJbMTs5MW0nICMgTUVSQUgNCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORw0KQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSQ0KQSA9ICdceDFiWzE7OTBtJyAjIFdBUk5BIEFCVSBBQlUNCkJOID0gJ1x4MWJbMTsxMDdtJyAjIEJFTEFLQU5HIFBVVElIDQpCQkwgPSAnXHgxYlsxOzEwNm0nICMgQkVMQUtBTkcgQklSVSBMQU5HSVQNCkJQID0gJ1x4MWJbMTsxMDVtJyAjIEJFTEFLQU5HIFBJTksNCkJCID0gJ1x4MWJbMTsxMDRtJyAjIEJFTEFLQU5HIEJJUlUNCkJLID0gJ1x4MWJbMTsxMDNtJyAjIEJFTEFLQU5HIEtVTklORw0KQkggPSAnXHgxYlsxOzEwMm0nICMgQkVMQUtBTkcgSElKQVUNCkJNID0gJ1x4MWJbMTsxMDFtJyAjIEJFTEFKQU5HIE1FUkFIDQpCQSA9ICdceDFiWzE7MTAwbScgIyBCRUxBS0FORyBBQlUgQUJVDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBSRVNQT05TRSBGQUNFQk9PSyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpkYXRhLGRhdGEyPXt9LHt9DQphbWFuLGNwLHNhbGFoPTAsMCwwDQp1YmFoUCxwd0JhcnU9W10sW10NCkFwayA9IFtdDQpvayA9IFtdDQpjcCA9IFtdDQppZCA9IFtdDQp1c2VyID0gW10NCmxvb3AgPSAwDQp1cmxfbG9va3VwID0gImh0dHBzOi8vbG9va3VwLWlkLmNvbS8iDQp1cmxfbWIgPSAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIg0KdXJsX2lwID0gImh0dHBzOi8vd3d3Lmh0dHBiaW4ub3JnL2lwIg0KdXJsX2dyYXBoID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9Ig0KaGVhZGVyX2dydXAgPSB7InVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIn0NCmJ1bGFuX3R0bCA9IHsiMDEiOiAiSmFudWFyaSIsICIwMiI6ICJGZWJydWFyaSIsICIwMyI6ICJNYXJldCIsICIwNCI6ICJBcHJpbCIsICIwNSI6ICJNZWkiLCAiMDYiOiAiSnVuaSIsICIwNyI6ICJKdWxpIiwgIjA4IjogIkFndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9rdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVzZW1iZXIifQ0KI2FnZW4xID0gWydOb2tpYUMyLTAwLzIuMCAoMDMuNDUpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCAoSmF2YTsgVTsga2F1OyBub2tpYWMyLTAwKSBVQ0Jyb3dzZXI4LjMuMC4xNTQvNzAvMzUyL1VDV0VCIE1vYmlsZSddDQojYWdlbjIgPSBbJ05va2lhQzMtMDAvNS4wICgwOC42MykgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xIE1vemlsbGEvNS4wIEFwcGxlV2ViS2l0LzQyMCsgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYWZhcmkvNDIwKyddDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpoaGhoLCBpaWlpLCBqampqLCBra2trID0gImluZGV4LnBocD8iLCAibmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tIiwgIiUyRnRvb2xzJTJGZGVidWciLCAiJTJGYWNjZXNzdG9rZW4lMkYiDQpkZGRkLCBlZWVlLCBmZmZmLCBnZ2dnID0gImxvZ2luIiwgImRldmljZS1iYXNlZCIsICJ2YWxpZGF0ZS1wYXNzd29yZCIsICI/c2hibD0wIg0KYWFhYSwgYmJiYiwgY2NjYyA9ICJ0b29scyIsICJkZWJ1ZyIsICJhY2Nlc3N0b2tlbiINCiNiYWhhc2EgPSAiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgiDQpiYWhhc2EgPSAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciDQojYmFoYXNhID0gImVuLVVTLGVuO3E9MC45LHpoLUNOO3E9MC44LHpoO3E9MC43LGlkO3E9MC42LGJzO3E9MC41Ig0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KIyMgUkFORE9NIFVBDQojdXNlcl9hZ2VudD1bJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFJlZG1pIE5vdGUgNCBCdWlsZC9OUkQ5ME0pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS82My4wLjMyMzkuMTExIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgUmVkbWkgTm90ZSA0IEJ1aWxkL05SRDkwTSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzY0LjAuMzI4Mi4xMzcgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBSZWRtaSBOb3RlIDQgQnVpbGQvTlJEOTBNOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzk2LjAuNDY2NC40NSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJfSUFCL0ZCNEE7RkJBVi8zNDUuMC4wLjM0LjExODtdJywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFJlZG1pIE5vdGUgNCBCdWlsZC9OUkQ5ME07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNzAuMC4zNTM4LjgwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzE5OC4wLjAuNTMuMTAxO10nLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNNLUEyMDVVKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU00tQTEwMlUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTTS1HOTYwVSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNNLU45NjBVKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgTE0tUTcyMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IExNLVg0MjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBMTS1RNzEwKEZHTikpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2J10NCnVhc19iYXdhYW4gPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIg0KdWFzX25va2lhYzIgPSAiTm9raWFDMi0wMC8yLjAgKDAzLjQ1KSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgKEphdmE7IFU7IGthdTsgbm9raWFjMi0wMCkgVUNCcm93c2VyOC4zLjAuMTU0LzcwLzM1Mi9VQ1dFQiBNb2JpbGUiDQp1YXNfbm9raWF4MjAgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBOb2tpYSBYMjAgQnVpbGQvU0tRMS4yMTA4MjEuMDAxOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgc2VwZXJ0aSBHZWNrbykgVmVyc2kvNC4wIENocm9tZS85OC4wLjQ3NTguODcgTW9iaWxlIFNhZmFyaS81MzcuMzYiDQp1YXNfbm9raWF4ID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8yNy4wLjg3LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjAsZ3ppcChnZmUpIg0KdWFzX3NhbXN1bmdzZSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiDQp1YXNfcmVkbWk5YSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMTA7IGlkLWlkOyBSZWRtaSA5QSBCdWlsZC9RUDFBLjE5MDcxMS4wMjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OS4wLjQzODkuMTE2IE1vYmlsZSBTYWZhcmkvNTM3LjM2Ig0KdWFzX25va2lheGwgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMS4yOyBOb2tpYV9YTCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8zMC4wLjE1OTkuODIgTW9iaWxlIFNhZmFyaS81MzcuMzYgTm9raWFCcm93c2VyLzEuMi4wLjEyIg0KI3Vhc19jaHJvbWVsaW51eCA9ICJNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ny4wLjQ2OTIuNzEgU2FmYXJpLzUzNy4zNiINCiN1YXNfajdwcmltZSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOC4xLjA7IFNNLUc2MTBGIEJ1aWxkL00xQUpRKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzIuMC4zNjI2LjEyMSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBPUFIvNTEuMS4yNDYxLjEzNzUwMSINCnVhc190ZXMgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgUmVkbWkgTm90ZSA0WCBCdWlsZC9NaVVJIE1TOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzY1LjAuMzMyNS4xMDkgTW9iaWxlIFNhZmFyaS81MzcuMzYgSW5zdGFncmFtIDM4LjAuMC4xMy45NSBBbmRyb2lkICgyNC83LjA7IDQ4MGRwaTsgMTA4MHgxOTIwOyBYaWFvbWkveGlhb21pOyBSZWRtaSBOb3RlIDRYOyBtaWRvOyBxY29tOyBydV9SVTsgOTk2NDA5MTEpIg0KdWFzX3JhbmRvbSA9IHJhbmRvbS5jaG9pY2UoWyJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IHpoLUNOOyBIVUFXRUkgTVQ3LVRMMDAgQnVpbGQvSHVhd2VpTVQ3LVRMMDApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS80MC4wLjIyMTQuODkgVUNCcm93c2VyLzExLjMuOC45MDkgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJOb2tpYUMzLTAwLzUuMCAoMDguNjMpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE5va2lhIDUuMSBQbHVzIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIHNlcGVydGkgR2Vja28pIFZlcnNpLzQuMCBDaHJvbWUvODMuMC40MTAzLjEwNiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU0FNU1VORyBTTS1HNzgwRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTYuMCBDaHJvbWUvOTIuMC40NTE1LjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiJdKQ0KdWFzX25va2lhYzMgPSAiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIg0KdWFzX2lwaG9uZSA9ICJNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDEzXzNfMSBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIE1vYmlsZS8xNUUxNDggW0ZCQU4vRkJJT1M7RkJEVi9pUGhvbmUxMSw4O0ZCTUQvaVBob25lO0ZCU04vaU9TO0ZCU1YvMTMuMy4xO0ZCU1MvMjtGQklEL3Bob25lO0ZCTEMvZW5fVVM7RkJPUC81O0ZCQ1IvXSINCnVhc19ub2tpYTVwbHVzID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTm9raWEgNS4xIFBsdXMgQnVpbGQvUVAxQS4xOTA3MTEuMDIwOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgc2VwZXJ0aSBHZWNrbykgVmVyc2kvNC4wIENocm9tZS84My4wLjQxMDMuMTA2IE1vYmlsZSBTYWZhcmkvNTM3LjM2Ig0KdWFzX3JhbmRvbTIgPSByYW5kb20uY2hvaWNlKFsiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10iLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC40LjQ7IGVuLWF1OyBTQU1TVU5HIFNNLU45MTVHIEJ1aWxkL0tUVTg0UCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLVEhNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8yLjAgQ2hyb21lLzM0LjAuMTg0Ny43NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8yNy4wLjg3LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjAsZ3ppcChnZmUpIiwiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyB6aC1DTjsgSFVBV0VJIE1UNy1UTDAwIEJ1aWxkL0h1YXdlaU1UNy1UTDAwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNDAuMC4yMjE0Ljg5IFVDQnJvd3Nlci8xMS4zLjguOTA5IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNMjAwNkMzTUcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84MS4wLjQwNDQuMTM4IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgU00tRzkzMFZDIEJ1aWxkL05SRDkwTTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS81OC4wLjMwMjkuODMgTW9iaWxlIFNhZmFyaS81MzcuMzYiXSkNCiMgbGVtcGFua2tra2tra2sNCnVnZW4yPVtdDQp1Z2VuPVtdDQogDQp0cnk6DQogICAgcHJveD0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5wcm94eXNjcmFwZS5jb20vdjIvP3JlcXVlc3Q9ZGlzcGxheXByb3hpZXMmcHJvdG9jb2w9c29ja3M0JnRpbWVvdXQ9MTAwMDAwJmNvdW50cnk9YWxsJnNzbD1hbGwmYW5vbnltaXR5PWFsbCcpLnRleHQNCiAgICBvcGVuKCcucHJveHkudHh0JywndycpLndyaXRlKHByb3gpDQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgZXhpdChlKQ0KIA0KZm9yIHhkIGluIHJhbmdlKDEwMDAwKToNCiAgICBhPSdNb3ppbGxhLzUuMCAoU3ltYmlhbi8zOyBTZXJpZXM2MC8nDQogICAgYj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQogICAgYz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQogICAgZD0nTm9raWEnDQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkNCiAgICBmPScvMTEwLjAyMS4wMDI4OyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MzUuMSAoS0hUTUwsIGxpa2UgR2Vja28pIE5va2lhQnJvd3Nlci8nDQogICAgZz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQogICAgaD1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQogICAgaT1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQogICAgaj1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQogICAgaz0nTW9iaWxlIFNhZmFyaS81MzUuMScNCiAgICB1YWt1PShmJ3thfXtifS57Y30ge2R9e2V9e2Z9e2d9LntofS57aX0ue2p9IHtrfScpDQogICAgdWdlbjIuYXBwZW5kKHVha3UpDQogDQogDQogICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCcNCiAgICBiPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJ10pDQogICAgYz0nIGVuLXVzOyBHVC0nDQogICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQ0KICAgIGY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycNCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQ0KICAgIGk9JzAnDQogICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQ0KICAgIGw9J01vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KICAgIHVha3UyPShmJ3thYX0ge2J9OyB7Y317ZH17ZX17Zn0pIHtnfXtofS57aX0ue2p9LntrfSB7bH0nKQ0KICAgIHVnZW4uYXBwZW5kKHVha3UyKQ0KICAgIA0KZGVmIGphbGFuKHopOg0KICAgIGZvciBlIGluIHogKyAnXG4nOg0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICB0aW1lLnNsZWVwKDAuMDMpDQogICAgIA0KZGVmIG1lbnRvZCgpOg0KICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuICVzTUVUSE9EIE1FTlUlcyclKE4sQk0sTikpDQogICAgcHJpbnQoJyAlc1slczElc10gTWV0aG9kIDEgZnJlZSAoJXNSZWNvbW1lbmRlZCVzKSclKE4sSCxOLEgsTikpDQogICAgcHJpbnQoJyBbJXMyJXNdIE1ldGhvZCAyIG1iYXNpYyAoJXNSZWNvbW1lbmRlZCVzKSclKEgsTixILE4pKQ0KICAgIHByaW50KCcgWyVzMyVzXSBNZXRob2QgMyBtb2JpbGUgKCVzUmVjb21tZW5kZWQlcyknJShILE4sSCxOKSkNCiMtLS0tLS0tLSBMT0FESU5HIEFOSU1BU0kgLS0tLS0tLS0tLS0tDQpkZWYgbG9hZGluZygpOg0KICAgIGFuaW1hdGlvbiA9IFsiW1x4MWJbMTs5MW3ilqBceDFiWzBt4pah4pah4pah4pah4pah4pah4pah4pah4pahXSIsIltceDFiWzE7OTJt4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5M23ilqDilqDilqBceDFiWzBt4pah4pah4pah4pah4pah4pah4pahXSIsICJbXHgxYlsxOzk0beKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqHilqHilqHilqHilqFdIiwgIltceDFiWzE7OTVt4pag4pag4pag4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5Nm3ilqDilqDilqDilqDilqDilqBceDFiWzBt4pah4pah4pah4pahXSIsICJbXHgxYlsxOzk3beKWoOKWoOKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqHilqFdIiwgIltceDFiWzE7OTht4pag4pag4pag4pag4pag4pag4pag4pagXHgxYlswbeKWoeKWoV0iLCAiW1x4MWJbMTs5OW3ilqDilqDilqDilqDilqDilqDilqDilqDilqBceDFiWzBt4pahXSIsICJbXHgxYlsxOzkxMG3ilqDilqDilqDilqDilqDilqDilqDilqDilqDilqBceDFiWzBtXSJdDQogICAgZm9yIGkgaW4gcmFuZ2UoNTApOg0KICAgICAgICB0aW1lLnNsZWVwKDAuMSkNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtOfVt7SH3igKJ7Tn1dIHtIfUxvYWRpbmcuLi57Tn0gIiArIGFuaW1hdGlvbltpICUgbGVuKGFuaW1hdGlvbildICsiXHgxYlswbSAiKQ0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICBwcmludCgiIikNCiMgTE9HTw0KZGVmIGxvZ28oKToNCiAgICBwcmludChmIiIie019DQoNClx4MWJbMTs5NW0gICAgIF9fX19fX18gIF9fX19fX18gICAgICAgICBfX19fX19fICBfX19fX19fIF9fX19fX19fX19fX19fX19fXyBfX19fX19fICBfX19fX18gIA0KXHgxYlsxOzkzbSAgICAoICAgICAgICkoICBfX19fICkgICAgICAgKCAgX19fXyBcKCAgX19fICApXF9fICAgIF8vXF9fICAgIF8vKCAgX19fICApKCAgX18gIFwgDQpceDFiWzE7MzVtICAgIHwgKCkgKCkgfHwgKCAgICApfCAgICAgICB8ICggICAgXC98ICggICApIHwgICApICAoICAgICApICAoICB8ICggICApIHx8ICggIFwgICkNClx4MWJbMTs5Mm0gICAgfCB8fCB8fCB8fCAoX19fXyl8IF9fX19fIHwgKF9fX19fIHwgKF9fXykgfCAgIHwgIHwgICAgIHwgIHwgIHwgKF9fXykgfHwgfCAgICkgfA0KXHgxYlsxOzM0bSAgICB8IHwoXyl8IHx8ICAgICBfXykoX19fX18pKF9fX19fICApfCAgX19fICB8ICAgfCAgfCAgICAgfCAgfCAgfCAgX19fICB8fCB8ICAgfCB8DQpceDFiWzE7OTFtICAgIHwgfCAgIHwgfHwgKFwgKCAgICAgICAgICAgICAgICApIHx8ICggICApIHwgICB8ICB8ICAgICB8ICB8ICB8ICggICApIHx8IHwgICApIHwNClx4MWJbMTszM20gICAgfCApICAgKCB8fCApIFwgXF9fICAgICAgIC9cX19fXykgfHwgKSAgICggfHxcXykgICkgIHxcXykgICkgIHwgKSAgICggfHwgKF9fLyAgKQ0KXHgxYlsxOzMxbSAgICB8LyAgICAgXHx8LyAgIFxfXy8gICAgICAgXF9fX19fX18pfC8gICAgIFx8KF9fX18vICAgKF9fX18vICAgfC8gICAgIFx8KF9fX19fXy8gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KXG57Tn0g4paM4pSC4paI4pWR4paM4pWR4paM4pWRIPCfh7Ig8J+HtyAt8J+HuCDwn4emIPCfh68g8J+HryDwn4emIPCfh6kgRkFDRUJPT0sgTUVUSE9E4pWR4paM4pWR4paM4pWR4paI4pSC4paMe059ICIiIikNCiAgICBwcmludCgi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXIikNCiAgICBwcmludChmIuKVkXtQfVt7SH3igKJ7UH1dIEF1dGhvciAgICA6IPCfh7Ig8J+HtyAt8J+HuCDwn4emIPCfh68g8J+HryDwn4emIPCfh6kgICAgICAgICAgICAgICAgICAgIHtOfeKVkSIpDQogICAgcHJpbnQoZiLilZF7UH1be0h94oCie1B9XSBXaGF0c2FwcCAgOiAr4p29zKPMo8yjIOKdvcyjzKPMoyDik7/Mo8yjzKMg4p22zKPMo8yjIOKdvcyjzKPMoyDinbnMo8yjzKMg4pO/zKPMo8yjIOKdt8yjzKPMoyDinbbMo8yjzKMg4p26zKPMo8yjIOKdtsyjzKPMoyDik7/Mo8yjzKMg4p27zKPMo8yjICAgICAgICAgICAge0594pWRIikNCiAgICBwcmludChmIuKVkXtQfVt7SH3igKJ7UH1dIEdpdGh1YiAgICA6IPCfh7gg8J+HrSDwn4emIPCfh60g8J+HvyDwn4emIPCfh6kg8J+HpiAt8J+HpiDwn4etIPCfh7Ig8J+HqiDwn4epIHtOfSAg4pWRIikNCiAgICBwcmludChmIuKVkXtQfVt7SH3igKJ7UH1dIFNDIFN0YXR1cyA6IEdyYXRpcyByYXNhIHtIfVByZW1pdW17UH0gICAgIHtOfeKVkSIpDQogICAgcHJpbnQoZiLilZF7UH1be0h94oCie1B9XSBTdXBwb3J0ICAgOiA2NGJpdCAgICAgICAgICAgICAgICAgICB7Tn3ilZEiKQ0KICAgIHByaW50KGYi4pWRe1B9W3tIfeKAontQfV0gTmV0d29yayAgIDoge0h9SU0ze059LCB7SH1BWElTL1hMe059LCB7SH0ze059ICAgICAgICAg4pWRIikNCiAgICBwcmludChmIuKVkXtQfVt7SH3igKJ7UH1dIFNDIFZlcnNpb246IFYtNS41ICh7S31CRVRBe1B9KSAgICAgICAgICAgIHtOfeKVkSIpDQogICAgcHJpbnQoIuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSIpDQojQ1JBQ0sgU0VMRVNBSQ0KZGVmIGhhc2lsKG9rLGNwKToNCiAgICBpZiBsZW4ob2spICE9IDAgb3IgbGVuKGNwKSAhPSAwOg0KICAgICAgICBwcmludChmJ1xuJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXPinJMlc10gJXNDUkFDSyBCWSDilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMgTUVUQSBTQyBTRUxFU0FJLi4uXG4lc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCclKE4sSCxOLEgsTikpDQogICAgICAgIHByaW50KGYnICVzWyVzKyVzXSBOdW1iZXIgb2YgQWNjb3VudHMgT0sgOiAlcyVzJXMnJShOLEgsTixILHN0cihsZW4ob2spKSxOKSkNCiAgICAgICAgcHJpbnQoZicgWyVzKyVzXSBOdW1iZXIgb2YgQWNjb3VudHMgQ1AgOiAlcyVzJXMnJShLLE4sSyxzdHIobGVuKGNwKSksTikpDQogICAgICAgIGNla19jcCA9IGlucHV0KGYie0594pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gW3tLfT97Tn1dIFNob3cgQ1AgZGV0ZWN0b3Igb3B0aW9ucyBbe0h9WXtOfS97TX10e059XTogIikNCiAgICAgICAgaWYgY2VrX2NwID09IiI6DQogICAgICAgICAgICBwcmludChmIlxuIFt7TX0he059XSBEb24ndCBiZSBlbXB0eSIpO2hhc2lsKG9rLGNwKQ0KICAgICAgICBlbGlmIGNla19jcCBpblsiWSIsInkiXToNCiAgICAgICAgICAgIGphbGFuKGYiIHtOfVt7TX0he059XSBQbGF5IGFpcnBsYW5lbW9kZSBmaXJzdCIpO3RpbWUuc2xlZXAoNSkNCiAgICAgICAgICAgIHd3PWlucHV0KGYiXG4ge059W3tLfT97Tn1dIENoYW5nZSBwYXNzd29yZCB3aGVuIHtCTX1UQVAgWUVTe059IFt7SH1Ze059L3tNfXR7Tn1dOiAiKQ0KICAgICAgICAgICAgaWYgd3cgaW4gKCJZIiwieSIsInlhIik6DQogICAgICAgICAgICAgICAgdWJhaFAuYXBwZW5kKCJ5IikNCiAgICAgICAgICAgICAgICBwcmludChmIiB7Tn1be0h94oCie059XSBQYXNzd29yZCBleGFtcGxlIDoge0h9YWRtaW4xMjN7Tn0iKQ0KICAgICAgICAgICAgICAgIHB3QmFyPWlucHV0KGYiIHtOfVt7S30/e059XSBFbnRlciBuZXcgcGFzc3dvcmQgOiB7SH0iKQ0KICAgICAgICAgICAgICAgICNwcmludCgiXG4iKQ0KICAgICAgICAgICAgICAgIGlmIGxlbihwd0JhcikgPD0gNToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gUGFzc3dvcmQgbWluaW11bSA2IGNoYXJhY3RlcnMnJShOLE0sTikpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcHdCYXJ1LmFwcGVuZChwd0JhcikNCiAgICAgICAgICAgIGZvciBtZW1layBpbiBjcDoNCiAgICAgICAgICAgICAgICBrb250b2wgPSBtZW1lay5yZXBsYWNlKCdcbicsICcnKQ0KICAgICAgICAgICAgICAgIHRpdGlkICA9IGtvbnRvbC5zcGxpdCgnIOKAoiAnKQ0KICAgICAgICAgICAgICAgIHByaW50KGYne0594pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4ge0h9TE9HSU4gUFJPQ0VTUycpDQogICAgICAgICAgICAgICAgamFsYW4oZicge059W3tNfT97Tn1dIEFjY291bnQgOiB7S317a29udG9sLnJlcGxhY2UoIlvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdICIsICIiKX17Tn0nKQ0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgbG9nX2hhc2lsKHRpdGlkWzBdLnJlcGxhY2UoIlvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdICIsICIiKSwgdGl0aWRbMV0pDQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgICAgICAgICBwcmludCgiIikNCiAgICAgICAgICAgIHByaW50KCIiKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KckyVzXSAlc0NoZWNraW5nIHByb2Nlc3MgaXMgY29tcGxldGUlcyclKE4sSCxOLEgsTikpDQogICAgICAgICAgICBqYWxhbignICVzWyVz4pyTJXNdIFJldHJ1biBTQyB0eXBlICIlc3B5dGhvbiBydW4ucHklcyInJShOLEgsTixILE4pKTtleGl0KCkNCiAgICAgICAgZWxpZiBjZWtfY3AgaW5bIlQiLCJ0Il06DQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH3igKJ7Tn1dIHtOfU9rLCB0aGFuayB5b3UuIFJldHJ1biBTQyB0eXBlICd7SH1weXRob24gcnVuLnB5e059JyIpO2V4aXQoKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gQ2hvb3NlIFkvdCIpO2hhc2lsKG9rLGNwKQ0KICAgIGVsc2U6DQogICAgICAgIGphbGFuKCdcblxuICVzWyVzISVzXSBTb3JyeSB5b3UgZGlkbnQgZ2V0IHJlc3VsdHMnJShOLE0sTikpO2V4aXQoKQ0KI0xPR0lOIFNDDQp1c2VyID0gIlNBSlUiDQpwd2FzID0gIlNBSkpBRCINCmRlZiBjZWtfcHcoKToNCiAgICB0cnk6DQogICAgICAgIG9wZW4oIi5pbmlfcHcudHh0IiwgInIiKS5yZWFkKCkNCiAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgICAgICBsb2dvKCkNCiAgICAgICAgcHJpbnQoJyBbJXMhJXNdIFBpbGloIG5vbWVyIDIgamlrYSBhZGEgeWFuZyBtZW1wZXJqdWFsXG4gYmVsaWthbiBTQyBNRVRBLiBTQyBpbmkgJXNHUkFUSVMlcyclKE0sTixILE4pKQ0KICAgICAgICBwcmludCgnXG4gJXMlc09QVElPTiBNRU5VJXMnJShCTSxQLE4pKQ0KICAgICAgICBwcmludCgnIFslczElc10gQWxyZWFkeSBoYXZlIFNDIExvZ2luIEluZm8nJShILE4pKQ0KICAgICAgICBwcmludCgnIFslczIlc10gU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIEF1dGhvciclKEgsTikpDQogICAgICAgIHBpbCA9IGlucHV0KCdcbiAlc1slcz8lc10gQ2hvaWNlIDogJyUoTixLLE4pKQ0KICAgICAgICBpZiBwaWwgPT0iIjoNCiAgICAgICAgICAgIGphbGFuKGYiIHtOfVt7TX3Dl3tOfV0gU29ycnksIGl0IGlzIHdyb25nLi4uISIpO3RpbWUuc2xlZXAoMSk7Y2VrX3B3KCkNCiAgICAgICAgZWxpZiBwaWwgaW5bIjIiLCIwMiJdOg0KICAgICAgICAgICAgamFsYW4oIlxuICVzWyVz4oCiJXNdICVzWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgQXV0aG9yIFdoYXRzYXBwLi4uIiUoTixILE4sSCkpO3RpbWUuc2xlZXAoMC4wMikNCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rODgwMTg0MDIxNTEwNj90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJyk7dGltZS5zbGVlcCgyKTtjZWtfcHcoKQ0KICAgICAgICBlbGlmIHBpbCBpblsiMSIsIjAxIl06DQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOKSkNCiAgICAgICAgICAgIHByaW50KCcgJXNbJXMhJXNdIFlvdSBtdXN0IGhhdmUgYSAlc3VzZXJuYW1lICYgcGFzc3dvcmQlcyB0b1xuIGNvbnRpbnVlIHdpdGggdGhpcyB0b29sISclKE4sTSxOLEgsTikpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBleGl0KGYie059W3tNfcOXe059XSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hIikNCiAgICAgICAgI3ByaW50KCIgJXNbJXMhJXNdIFlvdSBtdXN0IGhhdmUgYSAlc3VzZXJuYW1lICYgcGFzc3dvcmQlcyB0byBjb250aW51ZSB3aXRoIHRoaXMgdG9vbCEiJShOLE0sTixLLE4pKQ0KICAgICAgICBwdyA9IGlucHV0KCJcbiAlc1slcz8lc10gRW50ZXIgVXNlcm5hbWUgOiAlcyIlKE4sSyxOLEgpKQ0KICAgICAgICBsb2FkaW5nKCkNCiAgICAgICAgaWYgcHcgaW4gWyIiXToNCiAgICAgICAgICAgIGphbGFuKCIgJXNbJXMhJXNdIFNvcnJ5IGRvbid0IGJlIGJsYW5rISIlKE4sTSxOKSk7dGltZS5zbGVlcCgxKTtjZWtfcHcoKQ0KICAgICAgICBlbGlmIHB3IGluIHVzZXI6DQogICAgICAgICAgICBqYWxhbigiICVzWyVz4pyTJXNdIE9LIFVzZXJuYW1lIGlzIGNvcnJlY3QiJShOLEgsTikpO3RpbWUuc2xlZXAoMSk7a3NrYSgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBqYWxhbigiICVzWyVzISVzXSBTb3JyeSwgd3JvbmcgdXNlcm5hbWUiJShOLE0sTikpO3RpbWUuc2xlZXAoMSk7Y2VrX3B3KCkNCiAgICBtb2NoX3lheWFuKCkNCmRlZiBrc2thKCk6DQogICAgeHggPSBpbnB1dCgiXG4gJXNbJXM/JXNdIEVudGVyIFBhc3N3b3JkIDogJXMiJShOLEssTixIKSkNCiAgICBsb2FkaW5nKCkNCiAgICBpZiB4eCBpblsiIl06DQogICAgICAgIGphbGFuKCIgJXNbJXMhJXNdIFNvcnJ5IGRvbid0IGJlIGJsYW5rISIlKE4sTSxOKSk7dGltZS5zbGVlcCgxKTtjZWtfcHcoKQ0KICAgIGVsaWYgeHggaW4gcHdhczoNCiAgICAgICAgamFsYW4oIiAlc1slc+KckyVzXSBPSyBQYXNzd29yZCBpcyBjb3JyZWN0IiUoTixILE4pKTt0aW1lLnNsZWVwKDIpO29wZW4oIi5pbmlfcHcudHh0IiwgImEiKS53cml0ZSh4eCk7bW9jaF95YXlhbigpDQogICAgZWxzZToNCiAgICAgICAgamFsYW4oIiAlc1slcyElc10gU29ycnksIHdyb25nIFBhc3N3b3JkIiUoTixNLE4pKTt0aW1lLnNsZWVwKDEpO2Nla19wdygpDQogDQojTUVUT0RFIExPR0lODQpkZWYgeWF5YW54ZCgpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIGxvZ28oKQ0KICAgIHI9cmVxdWVzdHMuU2Vzc2lvbigpDQogICAgcHJpbnQoJyAlcyVzQ2hvb3NlIHlvdXIgbG9naW4gbWV0aG9kJXMnJShCTSxQLE4pKQ0KICAgIHByaW50KCcgWyVzMSVzXSBMb2dpbiB3aXRoIEVBQUIgVG9rZW4gKCVzT04lcyknJShILE4sSCxOKSkNCiAgICBwcmludCgnIFslczIlc10gTG9naW4gd2l0aCBDb29raWVzICglc09OJXMpJyUoSCxOLEgsTikpDQogICAgcHJpbnQoJyBbJXMzJXNdIExvZ2luIHdpdGggSUQgJiBQYXNzd29yZCAoJXNPTiVzKSclKEgsTixILE4pKQ0KICAgIHByaW50KCcgWyVzNCVzXSBDb252ZXJ0IENvb2tpZXMgdG8gRUFBQiBUb2tlbiAoJXNPTiVzKSclKEgsTixILE4pKQ0KICAgIHByaW50KCcgWyVzNSVzXSBTZW5kIGEgbWVzc2FnZSB0byB0aGUgQXV0aG9yICglc0NoYXQlcyknJShILE4sSCxOKSkNCiAgICBwID0gaW5wdXQoZiJcbiBbe0t9P3tOfV0gQ2hvb3NlIExvZ2luIE1ldGhvZCA6ICIpDQogICAgaWYgcCA9PSIiOg0KICAgICAgICBwcmludChmIlxuIHtOfVt7TX0he059XSBEb250IGJlIGVtcHR5Iik7dGltZS5zbGVlcCgzKTt5YXlhbnhkKCkNCiAgICBlbGlmIHAgaW5bIjEiLCIwMSJdOg0KICAgICAgICBsb2dpbl90b2tlbigpDQogICAgZWxpZiBwIGluWyIyIiwiMDIiXToNCiAgICAgICAgbG9naW5fY29va2llKCkNCiAgICBlbGlmIHAgaW5bIjMiLCIwMyJdOg0KICAgICAgICBsb2dpbl9wYXNzd29kKCkNCiAgICBlbGlmIHAgaW5bIjQiLCIwNCJdOg0KICAgICAgICBjb252ZXJ0X2Nvb2tpZXRvdG9rZW4oKQ0KICAgIGVsaWYgcCBpblsiNSIsIjA1Il06DQogICAgICAgIGluZm9hdXRob3IoKQ0KICAgIGVsc2U6DQogICAgICAgIGphbGFuKGYiXG4ge059W3tNfSF7Tn1dIFNvcnJ5LCBpdCBpcyB3cm9uZyIpO3RpbWUuc2xlZXAoMik7eWF5YW54ZCgpDQojIyMjIyMgSU5GTyBVUERBVEUgJiBVUEdSQURFIFNDICMjIyMjDQpkZWYgaW5mb2F1dGhvcigpOg0KICAgICAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiJShOKSkNCiAgICAgICAgamFsYW4oZiIge0JNfXtQfVNDIElORk97Tn1cbiBbe0h94oCie059XSBBdXRob3IgU0MgOiB7S31TIEEgSiBKIEEgRFxuIHtOfVt7SH3igKJ7Tn1dIFdoYXRzYXBwIDoge0t9K+KdvcyjzKPMoyDinb3Mo8yjzKMg4pO/zKPMo8yjIOKdtsyjzKPMoyDinb3Mo8yjzKMg4p25zKPMo8yjIOKTv8yjzKPMoyDinbfMo8yjzKMg4p22zKPMo8yjIOKdusyjzKPMoyDinbbMo8yjzKMg4pO/zKPMo8yjIOKdu8yjzKPMoyBcbiB7Tn1be0h94oCie059XSBHaXRodWIgOiB7S31odHRwczovL2dpdGh1Yi5jb20v4paT4paI4pa64pSA8J+GgvCfhbDwn4W58J+FufCfhbDwn4Wz4pSA4peE4paI4paTLUlEXG4ge059W3tIfeKAontOfV0gU3RhdHVzIFNDIDogR3JhdGlzIHJhc2Ege0h9UHJlbWl1bXtOfVxuIHtOfVt7SH3igKJ7Tn1dIFdBUk5JTkcgOiBESUxBUkFORyBNRU1QRVJKVUFMIEJFTElLQU4gVVNFUk5BTUUgJiBQQVNTV09SRCBTQyBNRVRBLntOfVxuXG4ge0JNfUZJWCBCVUd7Tn1cbiBbe0h94pyTe059XSBUZXJqYWRpbnlhIEVycm9yIHNhYXQgbWVtYWlua2FuIG1vZGUgcGVzYXdhdCBzYWF0IHByb3NlcyBjcmFjayBzZWRhbmcgYmVyamFsYW4sIGtpbmkgc3VkYWggZGlwZXJiYWlraSBkYW4gc3VkYWggYmlzYSBkaW1haW5rYW4gbW9kZSBwZXNhd2F0IHNhYXQgcHJvc2VzIGNyYWNrIHNlZGFuZyBiZXJqYWxhblxuIFt7SH3inJN7Tn1dIFNlZGlraXQgcGVydWJhaGFuIHdhcm5hIHRleHQgZGFuIHRhbXBpbGFuIFNDXG4gW3tIfeKck3tOfV0gUGVydWJhaGFuIHVzZXIgYWdlbnQgYmF3YWFuIFNDXG4gW3tIfeKck3tOfV0gUGVuYW1iYWhhbiBtZW5hbXBpbGthbiB7SH1XZWIgJiBBcGxpa2FzaSBBS1RJRntOfSIpDQogICAgICAgIHVwZCA9IGlucHV0KCdcbiAlc1slcz8lc10gU2VuZCBkaXJlY3QgbWVzc2FnZSB0byBBdXRob3IgWyVzWSVzLyVzdCVzXSA6ICclKE4sSyxOLEgsTixNLE4pKQ0KICAgICAgICBpZiB1cGQgPT0iIjoNCiAgICAgICAgICAgIGV4aXQoZiJ7Tn1be019w5d7Tn1dIFNvcnJ5LCBpdCBpcyB3cm9uZyIpDQogICAgICAgIGVsaWYgdXBkIGluWyJZIiwieSJdOg0KICAgICAgICAgICAgamFsYW4oIlxuICVzWyVz4oCiJXNdICVzWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgQXV0aG9yIFdoYXRzYXBwLi4uIiUoTixILE4sSCkpO3RpbWUuc2xlZXAoMC4wMikNCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly95b3V0dWJlLmNvbS9jaGFubmVsL1VDbnF6UWxXWVNBOXZrLUxQaUs0dzIxZz90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJyk7dGltZS5zbGVlcCgyKTtleGl0KCkNCiAgICAgICAgZWxpZiB1cGQgaW5bIlQiLCJ0Il06DQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH3igKJ7Tn1dIE9rLCB0aGFuayB5b3UuLi4iKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KckyVzXSBSZXRydW4gU0MgdHlwZSAiJXNweXRob24gcnVuLnB5JXMiJyUoTixILE4sSCxOKSk7ZXhpdCgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBleGl0KGYie059W3tNfcOXe059XSBTb3JyeSwgaXQgaXMgd3JvbmciKQ0KI0xPR0lOIFRPS0VODQpkZWYgbG9naW5fdG9rZW4oKToNCiAgICAjcHJpbnQoJ1xuICVzWyVzISVzXSBHdW5ha2FuIFRva2VuIEVBQUIgeWFuZyBWYWxpZCwgamlrYSBtZW5nZ3VuYWthbiBUb2tlbiBFQUFCIHlhbmcgdGlkYWsgdmFsaWQgbWVuZ2FraWJhdGthbiAlc0dBR0FMIERVTVBJRCVzJyUoTixNLE4sTSxOKSkNCiAgICB0b2tlbiA9IGlucHV0KGYiXG4ge059W3tLfT97Tn1dIEVudGVyIEVBQUIgVG9rZW4gOiB7QX0iKQ0KICAgIGxvYWRpbmcoKQ0KICAgIHRyeToNCiAgICAgICAgbmFtYSA9IHJlcXVlc3RzLmdldCh1cmxfZ3JhcGguZm9ybWF0KGYiL21lP2FjY2Vzc190b2tlbj17dG9rZW59IikpLmpzb24oKVsibmFtZSJdDQogICAgICAgIG9wZW4oJy50b2tlbi50eHQnLCAnYScpLndyaXRlKHRva2VuKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gU2lnbiBpbiB0b2tlbiAlc1N1Y2Nlc3NmdWwlcyclKE4sSCxOLEgsTikpO3RpbWUuc2xlZXAoMSkNCiAgICAgICAgamFsYW4oJyAlc1slc+KAoiVzXSBXZWxjb21lICVzJXMlcyclKE4sSCxOLEssbmFtYSxOKSk7dGltZS5zbGVlcCgxKQ0KICAgICAgICBqYWxhbignIFslcyElc10gUGxlYXNlIHVzZSB0aGlzIHNjIHByb3Blcmx5LCB3ZSBhcmUgbm90IHJlc3BvbnNpYmxlIGlmIHRoaXMgc2MgaXMgbWlzdXNlZC4uLlxuIFslc+KAoiVzXSBXQVJOSU5HIDogRElMQVJBTkcgTUVNUEVSSlVBTCBCRUxJS0FOIFVTRVJOQU1FICYgUEFTU1dPUkQgU0MgTUVUQS4nJShNLE4sSCxOKSk7dGltZS5zbGVlcCgzKQ0KICAgICAgICBpbnB1dCgnXG4gWyVzUFJFU1MgRU5URVIlc10gdG8gY29udGludWUnJShILE4pKQ0KICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8veW91dHViZS5jb20vY2hhbm5lbC9VQ25xelFsV1lTQTl2ay1MUGlLNHcyMWc/dGV4dD1IYWxsbytpemluK21lbmdndW5ha2FuK1NDK2luaScpDQogICAgICAgIG1vY2hfeWF5YW4oKQ0KICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsS2V5RXJyb3IpOg0KICAgICAgICBqYWxhbihmIlxuIHtOfVt7TX0he059XSBTaWduIGluIHRva2VuIHtNfVZhaWxlZHtOfSIpO3lheWFueGQoKQ0KICAgIGV4Y2VwdCBVbmJvdW5kTG9jYWxFcnJvcjoNCiAgICAgICAgamFsYW4oZiJcbiB7Tn1be019IXtOfV0gU2lnbiBpbiB0b2tlbiB7TX1WYWlsZWR7Tn0iKTt5YXlhbnhkKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIGphbGFuKGYiXG4ge059W3tNfSF7Tn1dIFNvcnJ5IE5vIGNvbm5lY3Rpb24iKTt5YXlhbnhkKCkNCiMgLS0tLS0tLSBMT0dJTiBDT09LSUUgLS0tLS0tLS0NCmRlZiBsb2dpbl9jb29raWUoKToNCiAgICBjb29raWUgPSBpbnB1dCgiXG4gJXNbJXM/JXNdIEVudGVyIENvb2tpZXMgOiAlcyIlIChOLEssTixBKSkNCiAgICBsb2FkaW5nKCkNCiAgICB0cnk6DQogICAgICAgIGV3ZWUgPSB1YmFoX2Nvayhjb29raWUpDQogICAgICAgIHRva2VuID0gZXdlZS5nZXQoJ3Rva2VuJykNCiAgICAgICAgbmFtYSA9IHJlcXVlc3RzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj17dG9rZW59IikuanNvbigpWyJuYW1lIl0NCiAgICAgICAgb3BlbignLmNva2llLnR4dCcsICdhJykud3JpdGUoY29va2llKQ0KICAgICAgICBvcGVuKCcudG9rZW4udHh0JywgJ2EnKS53cml0ZSh0b2tlbikNCiAgICAgICAgamFsYW4oJ1xuICVzWyVz4pyTJXNdIFNpZ24gaW4gQ29va2llICVzU3VjY2Vzc2Z1bCVzJyUoTixILE4sSCxOKSk7dGltZS5zbGVlcCgzKQ0KICAgICAgICBqYWxhbignICVzWyVz4oCiJXNdIFdlbGNvbWUgJXMlcyVzJyUoTixILE4sSyxuYW1hLE4pKTt0aW1lLnNsZWVwKDMpDQogICAgICAgIGphbGFuKCcgWyVzISVzXSBQbGVhc2UgdXNlIHRoaXMgc2MgcHJvcGVybHksIHdlIGFyZSBub3QgcmVzcG9uc2libGUgaWYgdGhpcyBzYyBpcyBtaXN1c2VkLi4uXG4gWyVz4oCiJXNdIFdBUk5JTkcgOiBESUxBUkFORyBNRU1QRVJKVUFMIEJFTElLQU4gVVNFUk5BTUUgJiBQQVNTV09SRCBTQyBNRVRBLiclKE0sTixILE4pKTt0aW1lLnNsZWVwKDMpDQogICAgICAgIGlucHV0KCdcbiBbJXNQUkVTUyBFTlRFUiVzXSB0byBjb250aW51ZSclKEgsTikpDQogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly95b3V0dWJlLmNvbS9jaGFubmVsL1VDbnF6UWxXWVNBOXZrLUxQaUs0dzIxZz90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJykNCiAgICAgICAgbW9jaF95YXlhbigpDQogICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOg0KICAgICAgICBqYWxhbignXG4gJXNbJXPDlyVzXSBTaWduIGluIENvb2tpZSAlc1ZhaWxlZCVzJyUoTixNLE4sTSxOKSk7dGltZS5zbGVlcCgxKTt5YXlhbnhkKCkNCiAgICBleGNlcHQgVW5ib3VuZExvY2FsRXJyb3I6DQogICAgICAgIGphbGFuKCdcbiAlc1slc8OXJXNdIFNpZ24gaW4gQ29va2llICVzVmFpbGVkJXMnJShOLE0sTixNLE4pKTt0aW1lLnNsZWVwKDEpO3lheWFueGQoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgamFsYW4oJ1xuICVzWyVzISVzXSBTb3JyeSBObyBjb25uZWN0aW9uJyUoTixNLE4pKTt0aW1lLnNsZWVwKDEpO3lheWFueGQoKQ0KI0xPR0lOIFBBU1NXT1JEDQpkZWYgbG9naW5fcGFzc3dvZCgpOg0KICAgIHNlc3Npb249cmVxdWVzdHMuU2Vzc2lvbigpDQogICAgdXNlciA9IGlucHV0KGYiXG4ge059W3tIfeKAontOfV0gRW50ZXIgSUQvVXNlcm5hbWUgOiB7SH0iKQ0KICAgIHBhc3cgPSBpbnB1dChmIiB7Tn1be0h94oCie059XSBFbnRlciBQYXNzd29yZCA6IHtIfSIpDQogICAgbG9hZGluZygpDQogICAgdHJ5Og0KICAgICAgICBzZXNzaW9uPXJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICBoZWFkZXIgPSB7Ikhvc3QiOiJtYmFzaWMuZmFjZWJvb2suY29tIiwgIm9yaWdpbiI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIiA6ICIxIiwNCiAgICAgICAgInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IE5va2lhIDMuMikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgc2VwZXJ0aSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC44NyBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQogICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ICJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwicmVmZXJlciI6IHVybF9tYiwiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOmJhaGFzYX0NCiAgICAgICAgY2luID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwgaGVhZGVycz1oZWFkZXIpDQogICAgICAgIGRhcyA9IHsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihjaW4udGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoY2luLnRleHQpKS5ncm91cCgxKSwidWlkIjp1c2VyLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cGFzdywibmV4dCI6Imh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vdG9vbHMvZGVidWcvYWNjZXNzdG9rZW4vIn0NCiAgICAgICAgeWFuID0gc2Vzc2lvbi5wb3N0KCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAiLCBkYXRhID0gZGFzLCBoZWFkZXJzID0gaGVhZGVyLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSkNCiAgICAgICAgaWYgJ2NfdXNlcicgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgICAgICBjb296ID0gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkNCiAgICAgICAgICAgIGNva2kgPSAnZGF0cj0nICsgY29velsnZGF0ciddICsgJzsnICsgKCdjX3VzZXI9JyArIGNvb3pbJ2NfdXNlciddKSArICc7JyArICgnZnI9JyArIGNvb3pbJ2ZyJ10pICsgJzsnICsgKCd4cz0nICsgY29velsneHMnXSkNCiAgICAgICAgICAgIHRyeTpld2VlID0gdWJhaF9jb2soY29raSkNCiAgICAgICAgICAgIGV4Y2VwdCBVbmJvdW5kTG9jYWxFcnJvcjpqYWxhbigiIFslc8OXJXNdIElEL1VzZXJuYW1lICYgUGFzc3dvcmQgbm90IGNvcnJlY3QiJShNLE4pKTtsb2dpbl9wYXNzd29kKCkNCiAgICAgICAgICAgICNpa2VoID0gZXdlZS5nZXQoJ2lrZWgnKQ0KICAgICAgICAgICAgdG9rZW4gPSBld2VlLmdldCgndG9rZW4nKQ0KICAgICAgICAgICAgbmFtYSA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPXt0b2tlbn0iKS5qc29uKClbIm5hbWUiXQ0KICAgICAgICAgICAgI29wZW4oJy50b2tlbi50eHQnLCAnYScpLndyaXRlKGlrZWgpDQogICAgICAgICAgICBvcGVuKCcudG9rZW4udHh0JywgJ2EnKS53cml0ZSh0b2tlbikNCiAgICAgICAgICAgIG9wZW4oJy5jb2tpZS50eHQnLCAnYScpLndyaXRlKGNva2kpDQogICAgICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gU2lnbiBpbiBJRC9Vc2VybmFtZSAmIFBhc3N3b3JkICVzU3VjY2Vzc2Z1bCVzJyUoTixILE4sSCxOKSk7dGltZS5zbGVlcCgyKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KAoiVzXSBXZWxjb21lICVzJXMlcyclKE4sSCxOLEssbmFtYSxOKSk7dGltZS5zbGVlcCgyKQ0KICAgICAgICAgICAgamFsYW4oJyBbJXMhJXNdIFBsZWFzZSB1c2UgdGhpcyBzYyBwcm9wZXJseSwgd2UgYXJlIG5vdCByZXNwb25zaWJsZSBpZiB0aGlzIHNjIGlzIG1pc3VzZWQuLi5cbiBbJXPigKIlc10gV0FSTklORyA6IERJTEFSQU5HIE1FTVBFUkpVQUwgQkVMSUtBTiBVU0VSTkFNRSAmIFBBU1NXT1JEIFNDIE1FVEEuJyUoTSxOLEgsTikpO3RpbWUuc2xlZXAoMykNCiAgICAgICAgICAgIGphbGFuKGYiXG4gW3tNfSF7Tn1dIERpc3BsYXlpbmcgY29va2llcyBhbmQgdG9rZW5zIik7dGltZS5zbGVlcCg0KQ0KICAgICAgICAgICAgcHJpbnQoZiIgW3tIfeKck3tOfV0gQ29va2llIDoge0h9e2Nva2l9e059Iik7dGltZS5zbGVlcCgyKQ0KICAgICAgICAgICAgcHJpbnQoZiIgW3tIfeKck3tOfV0gVG9rZW4gIDoge0h9e2V3ZWUuZ2V0KCd0b2tlbicpfXtOfSIpO3RpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIGlucHV0KCdcbiBbJXNQUkVTUyBFTlRFUiVzXSB0byBjb250aW51ZSclKEgsTikpDQogICAgICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vbS5tZS9hYmFseGhvZGkucHk/dGV4dD1IYWxsbytpemluK21lbmdndW5ha2FuK1NDK2luaScpDQogICAgICAgICAgICBtb2NoX3lheWFuKCkNCiAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgICAgICBqYWxhbihmIlxuIFt7TX0he059XSBTb3JyeSBhY2NvdW50IHtLfUNoZWNrcG9pbnR7Tn0iKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgamFsYW4oZiJcbiBbe019w5d7Tn1dIFNpZ24gaW4gQ29va2llIHtNfVZhaWxlZHtOfSIpO3lheWFueGQoKQ0KICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsS2V5RXJyb3IpOg0KICAgICAgICBqYWxhbihmIlxuIFt7TX3Dl3tOfV0gU2lnbiBpbiBDb29raWUge019VmFpbGVke059Iik7eWF5YW54ZCgpDQogICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yOg0KICAgICAgICBqYWxhbihmIlxuIFt7TX3Dl3tOfV0gU2lnbiBpbiBDb29raWUge019VmFpbGVke059Iik7eWF5YW54ZCgpDQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICBqYWxhbihmIlxuIHtOfVt7TX0he059XSBTb3JyeSBubyBjb25uZWN0aW9uIikNCiMgLS0tLS0gVUJBSCBDT09LSUUgLS0tLS0tLQ0KZGVmIHViYWhfY29rKGNvb2tpZSk6DQogICAgaGVhZGVycyA9IHsNCiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzY0LjAuMzI4Mi4xNjcgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICdDb29raWUnOiBjb29raWUNCiAgICB9DQogICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgcjoNCiAgICAgIHJlcSA9IHIuZ2V0KCdodHRwczovL3dlYi5mYWNlYm9vay5jb20vYWRzbWFuYWdlcj9fcmRjPTEmX3JkcicsIGhlYWRlcnMgPSBoZWFkZXJzKQ0KICAgICAgY2FyaV9pZCA9IHJlLmZpbmRhbGwoJ2FjdD0oLio/KSZuYXZfc291cmNlJywgcmVxLnRleHQpDQogICAgICBmb3IgeiBpbiBjYXJpX2lkOg0KICAgICAgICAgIHJleCA9IHIuZ2V0KGYnaHR0cHM6Ly93ZWIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXIvbWFuYWdlL2NhbXBhaWducz9hY3Q9e3p9Jm5hdl9zb3VyY2U9bm9fcmVmZXJyZXInLCBoZWFkZXJzID0gaGVhZGVycykNCiAgICAgICAgICAjbW1rID0gcmUuc2VhcmNoKCcoRUFBQlx3KyknLCByZXgudGV4dCkuZ3JvdXAoMSkNCiAgICAgICNyZXR1cm4geyJpa2VoIjptbWt9DQogICAgICAgICAgdG9rZW4gPSByZS5zZWFyY2goJyhFQUFCXHcrKScsIHJleC50ZXh0KS5ncm91cCgxKQ0KICAgICAgcmV0dXJuIHsidG9rZW4iOnRva2VufQ0KIyBNZW51IENvbnZlcnQgVG9rZW4NCmRlZiBjb252ZXJ0X2Nvb2tpZXRvdG9rZW4oKToNCiAgdHJ5Og0KICAgICAgY29va2llID0gaW5wdXQoZiJ7Tn3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiB7Qk19REVUQUlMIENPTlZFUlR7Tn1cbiBbe0t9P3tOfV0gTWFzdWthbiBDb29raWUgRkIgOiB7QX0iKQ0KICAgICAgbG9hZGluZygpDQogICAgICBpZiBsZW4oY29va2llKSA9PSAwOg0KICAgICAgICBqYWxhbihmIiB7Tn1be019IXtOfV0gRG9uJ3QgYmUgZW1wdHkiKTt5YXlhbnhkKCkNCiAgICAgIGVsc2U6DQogICAgICAgIGhlYWRlcnMgPSB7J1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgVWJ1bnR1OyBMaW51eCB4ODZfNjQ7IHJ2OjU5LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTkuMCcsJ0Nvb2tpZSc6IGNvb2tpZX0NCiAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgcjoNCiAgICAgICAgICByZXEgPSByLmdldCgnaHR0cHM6Ly93ZWIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXI/X3JkYz0xJl9yZHInLCBoZWFkZXJzID0gaGVhZGVycykNCiAgICAgICAgICBjYXJpX2lkID0gcmUuZmluZGFsbCgnYWN0PSguKj8pJm5hdl9zb3VyY2UnLCByZXEudGV4dCkNCiAgICAgICAgICBmb3IgeiBpbiBjYXJpX2lkOg0KICAgICAgICAgICAgcmV4ID0gci5nZXQoZidodHRwczovL3dlYi5mYWNlYm9vay5jb20vYWRzbWFuYWdlci9tYW5hZ2UvY2FtcGFpZ25zP2FjdD17en0mbmF2X3NvdXJjZT1ub19yZWZlcnJlcicsIGhlYWRlcnMgPSBoZWFkZXJzKQ0KICAgICAgICAgICAgdG9rZW4gPSByZS5zZWFyY2goJyhFQUFCXHcrKScsIHJleC50ZXh0KS5ncm91cCgxKQ0KICAgICAgI3JldHVybiB7InRva2VuIjp0b2tlbn0NCiAgICAgICAgICAgIHByaW50KGYiXG4ge059W3tIfeKAontOfV0gWW91ciBFQUFCIFRva2VuIDoge0h9e3Rva2VufSIpDQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH0he059XSBQbGVhc2UgY29weSB0aGUgRUFBQiBUb2tlbiBhYm92ZSIpO2xvZ2luX3Rva2VuKCkNCiAgZXhjZXB0IChBdHRyaWJ1dGVFcnJvcixLZXlFcnJvcik6DQogICAgICAgIGphbGFuKGYiXG4ge059W3tNfSF7Tn1dIFNpZ24gaW4ge019VmFpbGVke059IikNCiAgICAgDQojIyMgTUVOVSBVVEFNQSAjIyMNCmRlZiBtb2NoX3lheWFuKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgbG9nbygpDQogICAgdHJ5Og0KICAgICAgICB0b2tlbnogPSBvcGVuKCcudG9rZW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gQ29va2llL1Rva2VuIGV4cGlyZWQnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKTt5YXlhbnhkKCkNCiAgICB0cnk6DQogICAgICAgIHh4ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JXMnJSh0b2tlbnopKS5qc29uKCkNCiAgICAgICAgbmFtYSA9IHh4WyduYW1lJ10NCiAgICAgICAgaWRmYiA9IHh4WydpZCddDQogICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBTb3JyeSwgQ29va2llL1Rva2VuIGludmFsaWQnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKTt5YXlhbnhkKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIGV4aXQoJ1xuXG4gJXNbJXMhJXNdIFNvcnJ5IG5vIGNvbm5lY3Rpb25cbiclKE4sTSxOKSkNCiAgICBpcG0gPSByZXF1ZXN0cy5nZXQodXJsX2lwKS5qc29uKCkNCiAgICBJUCA9IGlwbVsib3JpZ2luIl0NCiAgICBwcmludChmIiB7Qk19TE9HSU4gSU5GT3tOfSIpDQogICAgcHJpbnQoZiJ7UH0gW3tIfeKAontQfV0gRkIgTmFtZSAgIDoge25hbWF9IikNCiAgICBwcmludChmIntQfSBbe0h94oCie1B9XSBGQiBJRCAgICAgOiB7aWRmYn0iKQ0KICAgIHByaW50KGYie1B9IFt7SH3igKJ7UH1dIFlvdXIgSVAgICA6IHtJUH0iKQ0KICAgIHByaW50KGYie1B9IFt7SH3igKJ7UH1dIEpvaW4gICAgICA6IHt3YWt0dX0iKQ0KICAgIHByaW50KCIlc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIlKE4pKQ0KICAgIHByaW50KGYiIHtCTX1PUFRJT04gTUVOVXtOfSIpDQogICAgcHJpbnQoJyBbJXMwMSVzXSBQdWJsaWMgRnJpZW5kcyAoJXNPTiVzKSclKEgsTixILE4pKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoJyBbJXMwMiVzXSBSYW5kb20gSUQgTWFzc2FsICglc09OJXMpJyUoSCxOLEgsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgnIFslczAzJXNdIFB1YmxpYyBHcm91cCBNZW1iZXIgKCVzT04lcyknJShILE4sSCxOKSk7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50KCcgWyVzMDQlc10gTGlrZSBQb3N0cyAoJXNPTiVzKSclKEgsTixILE4pKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoJyBbJXMwNSVzXSBDb21tZW50IFBvc3RzICglc09OJXMpJyUoSCxOLEgsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgnIFslczA2JXNdIENoZWNrcG9pbnQgRGV0ZWR0b3IgKCVzT04lcyknJShILE4sSCxOKSk7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50KCcgWyVzMDclc10gQ2hlY2sgQ3JhY2sgUmVzdWx0cyAoJXNPTiVzKSclKEgsTixILE4pKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoJyBbJXMwOCVzXSBTQyB1cGRhdGUgaW5mbyclKEgsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgnIFslczAwJXNdIExvZ291dCAoJXNSZW1vdmUgVG9rZW4vQ29va2llJXMpJyUoTSxOLE0sTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwZXBlayA9IGlucHV0KCdcbiAlc1slcz8lc10gU2VsZWN0IG1lbnUgOiAnJShOLEssTikpDQogICAgaWYgcGVwZWsgPT0gJyc6DQogICAgICAgIGphbGFuKCdcbiAlc1slc8OXJXNdIFNvcnJ5IHRoZSBtZW51IHNlbGVjdGlvbiBpcyB3cm9uZy4uLiEnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQojIyMjIyMgQ1JBQ0sgSUQgUFVCTElLIFNJTkdFTCAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzEnLCcwMSddOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiAlc1RBUkdFVCBJTkZPJXMiJShOLEJNLE4pKQ0KICAgICAgICAgICAgcHJpbnQoIiAlc1slc+KAoiVzXSBUeXBlICVzTUUlcyBjcmFjayBmcm9tIGZyaWVuZHMgbGlzdCIlKE4sSCxOLEgsTikpDQogICAgICAgICAgICB0cnk6dXNlciA9IGlucHV0KCcgJXNbJXM/JXNdIEVudGVyIElEL1VuYW1lIDogJXMnJShOLEssTixIKSk7X21lbWVrXyA9IF9fY29udmVydF9fKHVzZXIpDQogICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6ZXhpdChmIiB7Tn1be019w5d7Tn1dIEluY29ycmVjdCB1c2VybmFtZSBvciBJRCIpDQogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve19tZW1la18uZ2V0KCdfa29udG9sXycpfT9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0iKS5qc29uKClbImZyaWVuZHMiXQ0KICAgICAgICAgICAgZm9yIHggaW4gclsiZGF0YSJdOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh4WydpZCddICsgJzw9PicgKyB4WyduYW1lJ10pDQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgIGphbGFuKGYnICVzWyVzw5clc10gU29ycnkgJXNJRCBpcyBub3QgcHVibGljL0ludmFsaWQgdG9rZW4lcyclKE4sTSxOLE0sTikpO3RpbWUuc2xlZXAoMSk7bW9jaF95YXlhbigpDQojIyMjIyMgQ1JBQ0sgUkFORE9NIElEIE1BU1NBTCAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzInLCcwMiddOg0KICAgICAgICBfbmdvY29rXyh0b2tlbnopDQojIyMjIyMgQ1JBQ0sgR1JVUCAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzMnLCcwMyddOg0KICAgICAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNHUk9VUCBUQVJHRVQgSU5GTyVzIiUoTixCTSxOKSkNCiAgICAgICAgICAgIGtvbnRvbCA9IGlucHV0KGYiIHtOfVt7S30/e059XSBFbnRlciBHcm91cCBJRCA6IHtIfSIpDQogICAgICAgICAgICBpZiBrb250b2wgaW5bIiIsIiAiXToNCiAgICAgICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBEb250IGJlIGVtcHR5Li4uISclKE4sTSxOKSk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBjb29raXogPSBvcGVuKCcuY29raWUudHh0JykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgIGt1ZWggID0geyJjb29raWUiOmNvb2tpen0NCiAgICAgICAgICAgICAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgamFsYW4oZiJcbiBbe019w5d7Tn1dIFlvdSBsb2dpbiB1c2luZyBhIHRva2VuLCBpZiB5b3Ugd2FudCB0byBjcmFjayBmcm9tIGEgZ3JvdXAgbWVtYmVyLCBwbGVhc2UgbG9naW4gY29va2llcyBmaXJzdCIpO3RpbWUuc2xlZXAoNSk7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO3lheWFueGQoKQ0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgYSA9IHJlcXVlc3RzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD17a29udG9sfSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0iKS5qc29uKClbIm5hbWUiXQ0KICAgICAgICAgICAgICAgICAgICBpZiAiSGFsYW1hbiBUaWRhayBEaXRlbXVrYW4iIGluIGE6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxuICVzWyVzw5clc10gR3JvdXAgd2l0aCBJRCB7a29udG9sfSBub3QgZm91bmQiJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgIkFuZGEgVGlkYWsgRGFwYXQgTWVuZ2d1bmFrYW4gRml0dXIgSW5pIFNla2FyYW5nIiBpbiBhOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlxuICVzWyVzw5clc10gRmFjZWJvb2sgcmVzdHJpY3RzIGV2ZXJ5IGFjdGl2aXR5LCBhY2NvdW50IGlzIHNwYW1tZWQsIHBsZWFzZSBzd2l0Y2ggYWNjb3VudHMiJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgIktvbnRlbiBUaWRhayBEaXRlbXVrYW4iIGluIGE6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxuICVzWyVzw5clc10gR3JvdXAgd2l0aCBJRCB7a29udG9sfSBub3QgZm91bmQiJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6ICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiIHtOfVt7SH3igKJ7Tn1dIEdyb3VwIE5hbWUgOiB7SH17YX0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gVG8gc3RvcCB7SH1DVFJMK2N7Tn0gb24ga2V5Ym9hcmQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3JhY2tfZ3J1cChmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9icm93c2UvZ3JvdXAvbWVtYmVycy8/aWQ9e2tvbnRvbH0iLCBrdWVoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdChyZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcixyZXF1ZXN0cy5leGNlcHRpb25zLkNodW5rZWRFbmNvZGluZ0Vycm9yLHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVhZFRpbWVvdXQpOg0KICAgICAgICAgICAgICAgICAgICBleGl0KCJcbiBbIV0gU29ycnkgbm8gY29ubmVjdGlvbiIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiMjIyMjIyBDUkFDSyBMSUtFIFBPU1RJTkdBTiAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzQnLCcwNCddOg0KICAgICAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNMSUtFIFRBUkdFVCBJTkZPJXMiJShOLEJNLE4pKQ0KICAgICAgICAgICAga29udG9sID0gaW5wdXQoZiIge059W3tLfT97Tn1dIEVudGVyIFBvc3QgSUQgOiB7SH0iKQ0KICAgICAgICAgICAgaWYga29udG9sIGluWyIiLCIgIl06DQogICAgICAgICAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gRG9udCBiZSBlbXB0eS4uLiEnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgY29va2l6ID0gb3BlbignLmNva2llLnR4dCcpLnJlYWQoKQ0KICAgICAgICAgICAgICAgIGt1ZWggID0geyJjb29raWUiOmNvb2tpen0NCiAgICAgICAgICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICAgICAgICAgIGphbGFuKGYiXG4ge059W3tNfcOXe059XSBZb3UgbG9naW4gdXNpbmcgYSB0b2tlbiwgaWYgeW91IHdhbnQgdG8gY3JhY2sgZnJvbSBhIGdyb3VwIG1lbWJlciwgcGxlYXNlIGxvZ2luIGNvb2tpZXMgZmlyc3QiKTt0aW1lLnNsZWVwKDUpO29zLnN5c3RlbSgncm0gLXJmIC50b2tlbi50eHQnKTt5YXlhbnhkKCkNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBwcmludChmIlxuIHtOfVt7TX0he059XSBUbyBzdG9wIHtIfUNUUkwrY3tOfSBvbiBrZXlib2FyZCIpDQogICAgICAgICAgICAgICAgbGlrZV9wb3N0KGYiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3VmaS9yZWFjdGlvbi9wcm9maWxlL2Jyb3dzZXIvP2Z0X2VudF9pZGVudGlmaWVyPXtrb250b2x9Iiwga3VlaCkNCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludChmIlxuIFshXSBQb3N0IHdpdGggSUQge2tvbnRvbH0gbm90IGZvdW5kIik7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiMjIyMjIyBDUkFDSyBLT01FTlRBUiAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzUnLCcwNSddOg0KICAgICAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNDT01NRU5UIFRBUkdFVCBJTkZPJXMiJShOLEJNLE4pKQ0KICAgICAgICAgICAga29udG9sID0gaW5wdXQoZiJcbiB7Tn1be0t9P3tOfV0gRW50ZXIgUG9zdCBJRCA6IHtIfSIpDQogICAgICAgICAgICBpZiBrb250b2wgaW5bIiIsIiAiXToNCiAgICAgICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBEb250IGJlIGVtcHR5Li4uISclKE4sTSxOKSk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBjb29raXogPSBvcGVuKCcuY29raWUudHh0JykucmVhZCgpDQogICAgICAgICAgICAgICAga3VlaCAgPSB7ImNvb2tpZSI6Y29va2l6fQ0KICAgICAgICAgICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgICAgICAgICAgamFsYW4oZiJcbiB7Tn1be019w5d7Tn1dIFlvdSBsb2dpbiB1c2luZyBhIHRva2VuLCBpZiB5b3Ugd2FudCB0byBjcmFjayBmcm9tIGEgZ3JvdXAgbWVtYmVyLCBwbGVhc2UgbG9naW4gY29va2llcyBmaXJzdCIpO3RpbWUuc2xlZXAoNSk7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO3lheWFueGQoKQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHByaW50KGYiXG4ge059W3tNfSF7Tn1dIFRvIHN0b3Age0h9Q1RSTCtje059IG9uIGtleWJvYXJkIikNCiAgICAgICAgICAgICAgICBuZ29tZW5fcG9zdChmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS97a29udG9sfSIsIGt1ZWgpDQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQoZiJcbiBbIV0gUG9zdCB3aXRoIElEIHtrb250b2x9IG5vdCBmb3VuZCIpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQojIyMjIyMgQ0hFQ0tQT0lOVCBERVRFRFRPUiAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzYnLCcwNiddOg0KICAgICAgICBnYWJ1dCgpDQojIyMjIyMgQ0VLIEhBU0lMIENSQUNLICMjIyMjDQogICAgZWxpZiBwZXBlayBpblsnNycsJzA3J106DQogICAgICAgIGRpcnMgPSBvcy5saXN0ZGlyKCJyZXN1bHRzIikNCiAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNGSUxFIEhBU0lMIENSQUNLJXMnJShOLEJNLE4pKQ0KICAgICAgICBmb3IgZmlsZSBpbiBkaXJzOg0KICAgICAgICAgICAgcHJpbnQoIiAlc1slcyslc10gJXMiJShOLEgsTixmaWxlKSkNCiAgICAgICAgZmlsZSA9IGlucHV0KCJcbiAlcyVzRklMRSBERVRBSUxTJXNcbiBbJXM/JXNdIEZpbGUgbmFtZSA6ICVzIiUoQk0sUCxOLEssTixIKSkNCiAgICAgICAgaWYgZmlsZSA9PSAiIjoNCiAgICAgICAgICAgIGZpbGUgPSBpbnB1dCgiXG4gJXMlc0ZJTEUgREVUQUlMUyVzXG4gWyVzPyVzXSBGaWxlIG5hbWUgOiVzIiUoQk0sUCxOLEssTixIKSkNCiAgICAgICAgdG90YWwgPSBvcGVuKCJyZXN1bHRzLyVzIiUoZmlsZSkpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiAgICAgICAgI3ByaW50KCIlc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIlKE4pKTt0aW1lLnNsZWVwKDIpDQogICAgICAgIG5tX2ZpbGUgPSAoIiVzIiUoZmlsZSkpLnJlcGxhY2UoIi0iLCAiICIpDQogICAgICAgIGhwc19ubSAgPSBubV9maWxlLnJlcGxhY2UoIi50eHQiLCAiIikucmVwbGFjZSgiT0siLCAiIikucmVwbGFjZSgiQ1AiLCAiIikucmVwbGFjZSgiY3BfZGV0ZWt0b3IiLCAiIikucmVwbGFjZSgiaW52YWxpZF9vayIsICIiKQ0KICAgICAgICBqYWxhbigiICVzWyVz4oCiJXNdIEZpbGUgZGF0ZSA6JXMlc1xuICVzWyVz4oCiJXNdIFRvdGFsIDogJXMlcyVzIiUoTixILE4sSCxocHNfbm0sTixILE4sSCxsZW4odG90YWwpLE4pKQ0KICAgICAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiJShOKSk7dGltZS5zbGVlcCgyKQ0KICAgICAgICBmb3IgbWVtZWsgaW4gdG90YWw6DQogICAgICAgICAgICBrb250b2wgPSBtZW1lay5yZXBsYWNlKCJcbiIsIiIpDQogICAgICAgICAgICB0aXRpZCAgPSBrb250b2wucmVwbGFjZSgiW+KWk+KWiOKWuuKUgPCfhoLwn4Ww8J+FufCfhbnwn4Ww8J+Fs+KUgOKXhOKWiOKWky1PS10gIiwiXHgxYlsxOzkybVvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtT0tdICIpLnJlcGxhY2UoIlvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdICIsICJceDFiWzE7OTNtW+KWk+KWiOKWuuKUgPCfhoLwn4Ww8J+FufCfhbnwn4Ww8J+Fs+KUgOKXhOKWiOKWky1DUF0gIikNCiAgICAgICAgICAgIHByaW50KCIlcyVzIiUodGl0aWQsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICAgICAgamFsYW4oIlxuICVzWyVz4pyTJXNdIEZpbGUgY2hlY2sgY29tcGxldGUuLi4iJShOLEgsTikpDQogICAgICAgIGlucHV0KCcgWyVzUFJFU1MgRU5URVIlc10gdG8gY29udGludWUnJShILE4pKTttb2NoX3lheWFuKCkNCiMjIyMjIyBJTkZPIFVQREFURSAmIFVQR1JBREUgU0MgIyMjIyMNCiAgICBlbGlmIHBlcGVrIGluWyc4JywnMDgnXToNCiAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIiUoTikpDQogICAgICAgIGphbGFuKGYiIHtCTX17UH1TQyBJTkZPe059XG4gW3tIfeKAontOfV0gQXV0aG9yIFNDIDoge0t9UyBBIEogSiBBIERcbiB7Tn1be0h94oCie059XSBXaGF0c2FwcCA6IHtLfSvinb3Mo8yjzKMg4p29zKPMo8yjIOKTv8yjzKPMoyDinbbMo8yjzKMg4p29zKPMo8yjIOKducyjzKPMoyDik7/Mo8yjzKMg4p23zKPMo8yjIOKdtsyjzKPMoyDinbrMo8yjzKMg4p22zKPMo8yjIOKTv8yjzKPMoyDinbvMo8yjzKMgXG4ge059W3tIfeKAontOfV0gR2l0aHViIDoge0t9aHR0cHM6Ly9naXRodWIuY29tL+KWk+KWiOKWuuKUgPCfhoLwn4Ww8J+FufCfhbnwn4Ww8J+Fs+KUgOKXhOKWiOKWky1JRFxuIHtOfVt7SH3igKJ7Tn1dIFN0YXR1cyBTQyA6IEdyYXRpcyByYXNhIHtIfVByZW1pdW17Tn1cblxuIHtCTX17UH1TT1VSQyBDT0RFe059XG4gW3tIfTF7Tn1dIFlheWFuWEQgICAgICBbe0h9MntOfV0gUm9taVxuIFt7SH0ze059XSBSb3poYWtYRCAgICAgW3tIfTR7Tn1dIFNpYXBhIGxhZ2k/XG5cbiB7Qk19RklYIEJVR3tOfVxuIFt7SH3inJN7Tn1dIFRlcmphZGlueWEgRXJyb3Igc2FhdCBtZW1haW5rYW4gbW9kZSBwZXNhd2F0IHNhYXQgcHJvc2VzIGNyYWNrIHNlZGFuZyBiZXJqYWxhbiwga2luaSBzdWRhaCBkaXBlcmJhaWtpIGRhbiBzdWRhaCBiaXNhIGRpbWFpbmthbiBtb2RlIHBlc2F3YXQgc2FhdCBwcm9zZXMgY3JhY2sgc2VkYW5nIGJlcmphbGFuXG4gW3tIfeKck3tOfV0gU2VkaWtpdCBwZXJ1YmFoYW4gd2FybmEgdGV4dCBkYW4gdGFtcGlsYW4gU0NcbiBbe0h94pyTe059XSBQZXJ1YmFoYW4gdXNlciBhZ2VudCBiYXdhYW4gU0NcbiBbe0h94pyTe059XSBQZW5hbWJhaGFuIG1lbmFtcGlsa2FuIHtIfVdlYiAmIEFwbGlrYXNpIEFLVElGe059IikNCiAgICAgICAgdXBkID0gaW5wdXQoJ1xuICVzWyVzPyVzXSBTZW5kIGRpcmVjdCBtZXNzYWdlIHRvIEF1dGhvciBbJXNZJXMvJXN0JXNdIDogJyUoTixLLE4sSCxOLE0sTikpDQogICAgICAgIGlmIHVwZCA9PSIiOg0KICAgICAgICAgICAgZXhpdChmIntOfVt7TX3Dl3tOfV0gU29ycnksIGl0IGlzIHdyb25nLi4uISIpDQogICAgICAgIGVsaWYgdXBkIGluWyJZIiwieSJdOg0KICAgICAgICAgICAgamFsYW4oIlxuICVzWyVz4oCiJXNdICVzWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgQXV0aG9yIFdoYXRzYXBwLi4uIiUoTixILE4sSCkpO3RpbWUuc2xlZXAoMC4wMikNCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9tLm1lL2FiYWx4aG9kaS5weT90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJyk7dGltZS5zbGVlcCgyKTtleGl0KCkNCiAgICAgICAgZWxpZiB1cGQgaW5bIlQiLCJ0Il06DQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH3igKJ7Tn1dIE9rLCB0aGFuayB5b3UuLi4iKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KckyVzXSBSZXRydW4gU0MgdHlwZSAiJXNweXRob24gcnVuLnB5JXMiJyUoTixILE4sSCxOKSk7ZXhpdCgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBleGl0KGYie059W3tNfcOXe059XSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hIikNCiMjIyMjIyBIQVBVUyBDT09LSUUgIyMjIyMNCiAgICBlbGlmIHBlcGVrIGluWycwJywnMDAnXToNCiAgICAgICAgcHJpbnQoIiIpDQogICAgICAgIHRpdGlrID0gWydceDFiWzE7OTJtLiAgICcsICdceDFiWzE7OTNtLi4gICcsICdceDFiWzE7OTZtLi4uICcsJ1x4MWJbMTs5Mm0uICAgJywgJ1x4MWJbMTs5M20uLiAgJywgJ1x4MWJbMTs5Nm0uLi4gJ10NCiAgICAgICAgZm9yIHggaW4gdGl0aWs6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcciAlc1slcyElc10gRGVsZXRpbmcgVG9rZW4vQ29va2llICVzJyUoTixNLE4seCkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gJXNTdWNjZXNzZnVsbHkgZGVsZXRlIFRva2VuL0Nvb2tpZS4uLiclKE4sSCxOLEgpKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gUmV0cnVuIFNDIHR5cGUgIiVzcHl0aG9uIHJ1bi5weSVzIiclKE4sSCxOLEgsTikpO2V4aXQoKQ0KICAgIGVsc2U6DQogICAgICAgIGphbGFuKCdcbiAlc1slc8OXJXNdIFNvcnJ5IG1lbnUgWyVzJXMlc10gbW9kZXJhdGUgaW1wcm92ZW1lbnQuLi4hJyUoTixNLE4sTSxwZXBlayxOKSk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICByZXR1cm4gX19jcmFja19fKCkucGxlcnIoaWQpDQojIyMjIyMgQ1JBQ0sgSUQgUkFORE9NIE1BU1NBTCAjIyMjIw0KZGVmIF9uZ29jb2tfKF9fcHBrX18pOg0KICAgIHRyeToNCiAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNUQVJHRVQgSU5GTyVzIiUoTixCTSxOKSkNCiAgICAgICAgbmFueWFfa2V1biA9IGludChpbnB1dChmJyAlc1slcz8lc10gRW50ZXIgdGhlIHRhcmdldCBhbW91bnQgOiAlcyclKE4sSyxOLEgpKSkNCiAgICBleGNlcHQ6bmFueWFfa2V1bj0xDQogICAgcHJpbnQoZiIgJXNbJXPigKIlc10gdHlwZSAlc21lJXMgQ3JhY2sgZnJvbSBmcmllbmRzIGxpc3QiJShOLEgsTixILE4pKQ0KICAgIGZvciBtbmggaW4gcmFuZ2UobmFueWFfa2V1bik6DQogICAgICAgIG1uaCArPTENCiAgICAgICAgdHJ5OnVzZXIgPSBpbnB1dChmJyAlc1slcz8lc10gRW50ZXIgSUQvVW5hbWUgJXMlcyVzIDogJXMnJShOLEssTixILG1uaCxOLEgpKTtfbWVtZWtfID0gX19jb252ZXJ0X18odXNlcikNCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOnByaW50KGYiIHtOfVt7TX3Dl3tOfV0gVXNlcm5hbWUgb3IgSUQgaXMgbm90IHB1YmxpYyIpO2NvbnRpbnVlDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHp6eiA9IHJlcXVlc3RzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAve19tZW1la18uZ2V0KCdfa29udG9sXycpfT9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49e19fcHBrX199IikuanNvbigpWyJmcmllbmRzIl0NCiAgICAgICAgICAgIGZvciB4IGluIHp6elsiZGF0YSJdOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh4WyJpZCJdKyI8PT4iK3hbIm5hbWUiXSsiXG4iKQ0KICAgICAgICBleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KICAgICAgICAgICAgamFsYW4oZicgJXNbJXPDlyVzXSBTb3JyeSAlc0ZyaWVuZHMgSUQgaXMgbm90IHB1YmxpYyVzJyUoTixNLE4sTSxOKSk7Y29udGludWUNCiMjIyMjIyBDUkFDSyBBTkdHT1RBIEdSVVAgUFVCTElLICMjIyMjDQpkZWYgY3JhY2tfZ3J1cCh1cmxfZ3JvdXAsa3VlaCk6DQogICAgdHJ5Og0KICAgICAgICBzb3BfZGV2ID0gQmVhdXRpZnVsU291cChyZXF1ZXN0cy5nZXQodXJsX2dyb3VwLCBjb29raWVzPWt1ZWgpLmNvbnRlbnQsICJodG1sLnBhcnNlciIpDQogICAgICAgIG1lbWJlcnMgPSBzb3BfZGV2LmZpbmQoImRpdiIsIGlkPSJvYmplY3RzX2NvbnRhaW5lciIpDQogICAgICAgIGZvciBkZXYgaW4gbWVtYmVycy5maW5kX2FsbCgidGFibGUiKToNCiAgICAgICAgICAgIHVzZXJfID0gZGV2WyJpZCJdLnJlcGxhY2UoIm1lbWJlcl8iLCAiIikNCiAgICAgICAgICAgIG5hbWFfID0gcmUuZmluZGFsbCgnPGltZyBhbHQ9IiguKiksIHByb2ZpbGUgcGljdHVyZSInLCBzdHIoZGV2KSlbMF0NCiAgICAgICAgICAgIHRyeTppZC5hcHBlbmQoZiJ7c3RyKHVzZXJfKX08PT57c3RyKG5hbWFfKX1cbiIpDQogICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtOfVt7SH3igKJ7Tn1dIFByb2Nlc3MgRHVtcCBJRCA6IHtIfXtsZW4oaWQpfSIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICBpZiAiTGloYXQgU2VsZW5na2FwbnlhIiBpbiBzdHIoc29wX2Rldik6DQogICAgICAgICAgICB1cmwgPSBzb3BfZGV2LmZpbmQoImEiLCBzdHJpbmc9IkxpaGF0IFNlbGVuZ2thcG55YSIpWyJocmVmIl0NCiAgICAgICAgICAgIHVybF9ncnVwID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIrdXJsDQogICAgICAgICAgICBjcmFja19ncnVwKHVybF9ncm91cCxrdWVoKQ0KICAgIGV4Y2VwdDpwYXNzDQogICAgI19pXy5fX2NyYWNrX18oKS5wbGVycihpZCkNCiMjIyMjIyBDUkFDSyBMSUtFIFBPU1RJTkdBTiAjIyMjIw0KZGVmIGxpa2VfcG9zdChoZW5jZXQsIG1tayk6DQogICAgdHJ5Og0KICAgICAgICBrb250b2w9cmVxdWVzdHMuZ2V0KGhlbmNldCxjb29raWVzPW1taykudGV4dA0KICAgICAgICBpZiAiU2VtdWEgMCIgaW4ga29udG9sOg0KICAgICAgICAgICAgZXhpdCgiIFshXSBUaGVyZSBhcmUgbm8gcmVzcG9uc2VzIHRvIHRoaXMgcG9zdCIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBtZW1laz1yZS5maW5kYWxsKCdcPGgzXCBjbGFzc1w9XCIuLiJcPlw8YVwgaHJlZlw9XCIoLio/KSJcPiguKj8pPFwvYVw+Jyxrb250b2wpDQogICAgICAgICAgICBmb3Igc29mdGVrIGluIG1lbWVrOg0KICAgICAgICAgICAgICAgIGlmICJwcm9maWxlLnBocD8iIGluIHNvZnRla1swXToNCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKHJlLmZpbmRhbGwoImlkPSguKikiLHNvZnRla1swXSlbMF0rIjw9PiIrc29mdGVrWzFdKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChyZS5maW5kYWxsKCIvKC4qKSIsc29mdGVrWzBdKVswXSsiPD0+Iitzb2Z0ZWtbMV0pDQogICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtOfVt7SH3igKJ7Tn1dIFByb2Nlc3MgRHVtcCBJRCA6IHtIfXtsZW4oaWQpfSIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICAgICAgaWYgIkxpaGF0IFNlbGVuZ2thcG55YSIgaW4ga29udG9sOg0KICAgICAgICAgICAgICAgIGxpa2VfcG9zdCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIitCZWF1dGlmdWxTb3VwKGtvbnRvbCwiaHRtbC5wYXJzZXIiKS5maW5kKCJhIixzdHJpbmc9IkxpaGF0IFNlbGVuZ2thcG55YSIpLmdldCgiaHJlZiIpLCBtbWspDQogICAgZXhjZXB0OnBhc3MNCiAgICAjX2lfLl9fY3JhY2tfXygpLnBsZXJyKGlkKQ0KIyMjIyMjIENSQUNLIEtPTUVOVEFSICMjIyMjDQpkZWYgbmdvbWVuX3Bvc3QoaGVuY2V0LCB0b2tlbik6DQogICAgdHJ5Og0KICAgICAgICBrb250b2w9IHJlcXVlc3RzLmdldChoZW5jZXQsY29va2llcz10b2tlbixoZWFkZXJzPXsidXNlci1hZ2VudCI6Ik1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSJ9KS50ZXh0LmVuY29kZSgidXRmLTgiKQ0KICAgICAgICBtZW1layA9IEJlYXV0aWZ1bFNvdXAoa29udG9sLCdodG1sLnBhcnNlcicpDQogICAgICAgIGZvciBtbWsgaW4gbWVtZWsuZmluZF9hbGwoJ2gzJyk6DQogICAgICAgICAgICBmb3IgX2lkXyBpbiBtbWsuZmluZF9hbGwoJ2EnLGhyZWY9VHJ1ZSk6DQogICAgICAgICAgICAgICAgaWYgInByb2ZpbGUucGhwIiBpbiBfaWRfLmdldCgiaHJlZiIpOg0KICAgICAgICAgICAgICAgICAgICB4eiA9IF9pZF8uZ2V0KCJocmVmIikuc3BsaXQoJz0nKVsxXQ0KICAgICAgICAgICAgICAgICAgICBiYiA9IHh6LnNwbGl0KCcmJylbMF0NCiAgICAgICAgICAgICAgICAgICAgeGQgPSBfaWRfLnRleHQNCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKGJiKyc8PT4nK3hkKydcbicpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgeHogPSBfaWRfLmdldCgiaHJlZiIpLnNwbGl0KCc/JylbMF0NCiAgICAgICAgICAgICAgICAgICAgYmIgPSB4ei5zcGxpdCgnLycpWzFdDQogICAgICAgICAgICAgICAgICAgIHhkID0gX2lkXy50ZXh0DQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChiYisnPD0+Jyt4ZCsnXG4nKQ0KICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7Tn1be0h94oCie059XSBQcm9jZXNzIER1bXAgSUQgOiB7SH17bGVuKGlkKX0iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgZm9yIGFzdSBpbiBtZW1lay5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCiAgICAgICAgICAgIGlmICJMaWhhdCBrb21lbnRhciBsYWlubnlhw6LigqzCpiIgaW4gYXN1LnRleHQ6DQogICAgICAgICAgICAgICAgbmdvbWVuX3Bvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iK2FzdS5nZXQoImhyZWYiKSwgdG9rZW4pDQogICAgZXhjZXB0OnBhc3MNCiAgICAjX2lfLl9fY3JhY2tfXygpLnBsZXJyKGlkKQ0KIyBVU0VSTkFNRSBDT05WRVJUIFRPIElEDQpkZWYgX19jb252ZXJ0X18obW1rKToNCiAgICBpZiAibWUiIGluIG1tazoNCiAgICAgICAgcmV0dXJuIHsiX2tvbnRvbF8iOm1ta30NCiAgICBlbGlmKHJlLmZpbmRhbGwoIlx3KyIsbW1rKSk6DQogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20ve21ta30/X3JkciIpLnRleHQNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgdXNlciA9IHJlLmZpbmRhbGwoJ1w7cmlkXD0oXGQrKVwmJyxzdHIocikpWzBdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHVzZXIgPSBtbWsNCiAgICByZXR1cm4geyJfa29udG9sXyI6dXNlcn0NCiMgQ0hFS0VSIEFLVU4gQ0hFQ0tQT0lOVA0KZGVmIGdhYnV0KCk6DQogICAgZGlycyA9IG9zLmxpc3RkaXIoInJlc3VsdHMiKQ0KICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuICVzRklMRSBSRVNVTFQgQ1JBQ0slcyclKE4sQk0sTikpDQogICAgZm9yIGZpbGUgaW4gZGlyczoNCiAgICAgICAgcHJpbnQoIiBbJXMrJXNdICVzIiUoSCxOLGZpbGUpKQ0KICAgIGZpbGVzID0gaW5wdXQoIlxuICVzWyVzPyVzXSBFbnRlciBmaWxlIDogJXMiJShOLEssTixIKSkNCiAgICB0cnk6DQogICAgICAgIGJ1a2FfYmFqdSA9IG9wZW4oZidyZXN1bHRzL3tmaWxlc30nLCdyJykucmVhZGxpbmVzKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQoJ1xuIFshXSBTb3JyeSwgdGhlIGZpbGUgZG9lc250IGV4aXN0Jyk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICB3dz1pbnB1dChmIntOfeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFt7TX0he059XSBQbGF5IGFpcnBsYW5lbW9kZSBmaXJzdC5cbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIHtOfVt7S30/e059XSBDaGFuZ2UgcGFzc3dvcmQgd2hlbiB7Qk19VEFQIFlFU3tOfSBbe0h9WXtOfS97TX10e059XToge0t9IikNCiAgICBpZiB3dyBpbiAoIlkiLCJ5IiwieWEiKToNCiAgICAgICAgdWJhaFAuYXBwZW5kKCJ5IikNCiAgICAgICAgcHJpbnQoZiJcbiB7Tn1be0h94oCie059XSBQYXNzd29yZCBleGFtcGxlIDoge0h9YWRtaW4xMjN7Tn0iKQ0KICAgICAgICBwd0Jhcj1pbnB1dChmIiBbe0t9P3tOfV0gRW50ZXIgbmV3IHBhc3N3b3JkIDoge0t9IikNCiAgICAgICAgaWYgbGVuKHB3QmFyKSA8PSA1Og0KICAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFBhc3N3b3JkIG1pbmltdW0gNiBjaGFyYWN0ZXJzJyUoTixNLE4pKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHdCYXJ1LmFwcGVuZChwd0JhcikNCiAgICBwcmludChmJyAlc1slc+KAoiVzXSBUb3RhbCAlcyVzJXMgYWNjb3VudCclKE4sSCxOLEgsc3RyKGxlbihidWthX2JhanUpKSxOKSkNCiAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiJShOKSkNCiAgICBmb3IgbWVtZWsgaW4gYnVrYV9iYWp1Og0KICAgICAgICBrb250b2wgPSBtZW1lay5yZXBsYWNlKCdcbicsICcnKQ0KICAgICAgICB0aXRpZCAgPSBrb250b2wuc3BsaXQoJyDigKIgJykNCiAgICAgICAgcHJpbnQoZid7Tn3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiB7SH1MT0dJTiBQUk9DRVNTJykNCiAgICAgICAgamFsYW4oZicge059W3tNfT97Tn1dIEFjY291bnQgOiB7S317a29udG9sLnJlcGxhY2UoIlvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdICIsICIiKX17Tn0nKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBsb2dfaGFzaWwodGl0aWRbMF0ucmVwbGFjZSgiW01GTS1DUF0gIiwgIiIpLCB0aXRpZFsxXSkNCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIHByaW50KCIiKQ0KICAgIHByaW50KCIiKQ0KICAgIGphbGFuKCcgJXNbJXPinJMlc10gJXNDaGVja2luZyBwcm9jZXNzIGlzIGNvbXBsZXRlJXMnJShOLEgsTixILE4pKQ0KICAgIGphbGFuKCcgJXNbJXPinJMlc10gUmV0cnVuIFNDIHR5cGUgIiVzcHl0aG9uIHJ1bi5weSVzIiclKE4sSCxOLEgsTikpO2V4aXQoKQ0KIyBDSEVLUE9JTlQgREVURURUT1INCmRlZiBsb2dfaGFzaWwodXNlciwgcGFzdyk6DQogICAgZ2xvYmFsIGFtYW4sY3Asc2FsYWgNCiAgICBzZXNzaW9uPXJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIHVhc19jZWtkZXRla2RvciA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9lbl9FTjtGQkFWLzIzOS4wLjAuMTAuMTA5O10iDQogICAgc2Vzc2lvbi5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiJtYmFzaWMuZmFjZWJvb2suY29tIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6YmFoYXNhLCJyZWZlcmVyIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLyIsInVzZXItYWdlbnQiOnVhc19jZWtkZXRla2Rvcn0pDQogICAgc291cD1CZWF1dGlmdWxTb3VwKHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IikudGV4dCwiaHRtbC5wYXJzZXIiKQ0KICAgIGxpbms9c291cC5maW5kKCJmb3JtIix7Im1ldGhvZCI6InBvc3QifSkNCiAgICBmb3IgeCBpbiBzb3VwKCJpbnB1dCIpOg0KICAgICAgICBkYXRhLnVwZGF0ZSh7eC5nZXQoIm5hbWUiKTp4LmdldCgidmFsdWUiKX0pDQogICAgZGF0YS51cGRhdGUoeyJlbWFpbCI6dXNlciwicGFzcyI6cGFzd30pDQogICAgdXJsUG9zdD1zZXNzaW9uLnBvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIrbGluay5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0YSkNCiAgICByZXNwb25zZT1CZWF1dGlmdWxTb3VwKHVybFBvc3QudGV4dCwgImh0bWwucGFyc2VyIikNCiAgICBpZiAiVGVtdWthbiBBa3VuIEFuZGEiIGluIHJlLmZpbmRhbGwoIlw8dGl0bGU+KC4qPyk8XC90aXRsZT4iLHN0cih1cmxQb3N0LnRleHQpKToNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHIgJXNbJXMhJXNdIFR1cm4gb24gYWlycGxhbmVtb2RlIDIgc2Vjb25kcyclKE4sTSxOKSksDQogICAgaWYgImNfdXNlciIgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgIGlmICJBa3VuIEFuZGEgRGlrdW5jaSIgaW4gdXJsUG9zdC50ZXh0Og0KICAgICAgICAgICAgcHJpbnQoZiJcciB7Tn1be019w5d7Tn1dIEFjY291bnQgbG9ja2VkIikNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIGNva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQogICAgICAgICAgICBvcGVuKCdyZXN1bHRzL09LRS50eHQnLCAnYScpLndyaXRlKGYiW+Kck10ge3VzZXJ9IOKAoiB7cGFzd31cbiIpDQogICAgICAgICAgICBqYWxhbihmIlxyIHtOfVt7SH3inJN7Tn1dIHtIfUFjY291bnQgdW5sb2NrZWR7Tn0iKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkNCiAgICBlbGlmICJjaGVja3BvaW50IiBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToNCiAgICAgICAgdGl0bGU9cmUuZmluZGFsbCgiXDx0aXRsZT4oLio/KTxcL3RpdGxlPiIsc3RyKHJlc3BvbnNlKSkNCiAgICAgICAgbGluazI9cmVzcG9uc2UuZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pDQogICAgICAgIGxpc3RJbnB1dD1bJ2ZiX2R0c2cnLCdqYXpvZXN0JywnY2hlY2twb2ludF9kYXRhJywnc3VibWl0W0NvbnRpbnVlXScsJ25oJ10NCiAgICAgICAgZm9yIHggaW4gcmVzcG9uc2UoImlucHV0Iik6DQogICAgICAgICAgICBpZiB4LmdldCgibmFtZSIpIGluIGxpc3RJbnB1dDoNCiAgICAgICAgICAgICAgICBkYXRhMi51cGRhdGUoe3guZ2V0KCJuYW1lIik6eC5nZXQoInZhbHVlIil9KQ0KICAgICAgICBhbj1zZXNzaW9uLnBvc3QodXJsX21iK2xpbmsyLmdldCgiYWN0aW9uIiksZGF0YT1kYXRhMikNCiAgICAgICAgcmVzcG9uc2UyPUJlYXV0aWZ1bFNvdXAoYW4udGV4dCwiaHRtbC5wYXJzZXIiKQ0KICAgICAgICBudW1iZXI9MA0KICAgICAgICBjZWs9W2Nlay50ZXh0IGZvciBjZWsgaW4gcmVzcG9uc2UyLmZpbmRfYWxsKCJvcHRpb24iKV0NCiAgICAgICAgaWYobGVuKGNlayk9PTApOg0KICAgICAgICAgICAgaWYgIkxpaGF0IGRldGFpbCBsb2dpbiB5YW5nIGRpdGFtcGlsa2FuLiBJbmkgQW5kYT8iIGluIHRpdGxlOg0KICAgICAgICAgICAgICAgIGlmICJ5IiBpbiB1YmFoUDoNCiAgICAgICAgICAgICAgICAgICAgbW1rID0gcHdCYXJ1DQogICAgICAgICAgICAgICAgICAgIGphbGFuKGYiXHIgW3tIfeKAontOfV0gU3RhdHVzIDoge0JNfXtQfVRBUCBZRVN7Tn0iKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgICAgICAgICAgICAgICAgIHViYWhfcHcoc2Vzc2lvbixyZXNwb25zZSxsaW5rMix1c2VyLCBtbWspDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgbW1rID0gImFkbWlu4paT4paI4pa64pSA8J+GgvCfhbDwn4W58J+FufCfhbDwn4Wz4pSA4peE4paI4paTMTIzIg0KICAgICAgICAgICAgICAgICAgICBqYWxhbihmIlxyIFt7SH3igKJ7Tn1dIFN0YXR1cyA6IHtCTX17UH1UQVAgWUVTe059Iik7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICAgICAgICAgICAgICB1YmFoX3B3KHNlc3Npb24scmVzcG9uc2UsbGluazIsdXNlciwgbW1rKQ0KICAgICAgICAgICAgZWxpZiAiTWFzdWthbiBLb2RlIE1hc3VrIHVudHVrIE1lbGFuanV0a2FuIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlPiguKj8pPFwvdGl0bGU+IixzdHIocmVzcG9uc2UpKToNCiAgICAgICAgICAgICAgICBwcmludCgnIFslcyElc10gU29ycnksIHRoZSBhY2NvdW50IGlzIGluc3RhbGxlZCBBMkYnJShNLE4pKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL0VSUk9SLnR4dCcsICdhJykud3JpdGUoZiJb4paT4paI4pa64pSA8J+GgvCfhbDwn4W58J+FufCfhbDwn4Wz4pSA4peE4paI4paTLUNQXSB7dXNlcn0g4oCiIHtwYXN3fVxuIikNCiAgICAgICAgICAgICAgICBwcmludChmIiB7Tn1be019IXtOfV0gRXJyb3IiKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgb3BlbihmJ3Jlc3VsdHMvQ1AtREVURUtUT1Ite2hhfS17b3B9LXt0YX0udHh0JywgJ2EnKS53cml0ZShmIlvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdIHt1c2VyfSDigKIge3Bhc3d9XG4iKQ0KICAgICAgICAgICAgcHJpbnQoIiAlc1slc+KAoiVzXSBUaGVyZSBhcmUgJXMgb3B0aW9ucyAiJShOLEgsTixsZW4oY2VrKSkpDQogICAgICAgIGZvciBvcHQgaW4gcmFuZ2UobGVuKGNlaykpOg0KICAgICAgICAgICAgcHJpbnQoZiIgW1x4MWJbMTs5Mm17c3RyKG9wdCsxKX1ceDFiWzBtXSAiK2Nla1tvcHRdKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KGYiXHIge059W3tNfSF7Tn1dIFBhc3N3b3JkIGlzIHdyb25nIG9yIGhhcyBiZWVuIGNoYW5nZWQiKQ0KICAgICAgICBvcGVuKCdyZXN1bHRzL0lOVkFMSUQtT0sudHh0JywgJ2EnKS53cml0ZShmIlvilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdIHt1c2VyfSDigKIge3Bhc3d9XG4iKQ0KI1VCQUggUFcNCmRlZiB1YmFoX3B3KHNlc3Npb24scmVzcG9uc2UsbGluazIsdXNlcixtbWspOg0KICAgIGRhdCxkYXQyPXt9LHt9DQogICAgYnV0PVsic3VibWl0W1llc10iLCJuaCIsImZiX2R0c2ciLCJqYXpvZXN0IiwiY2hlY2twb2ludF9kYXRhIl0NCiAgICBmb3IgeCBpbiByZXNwb25zZSgiaW5wdXQiKToNCiAgICAgICAgaWYgeC5nZXQoIm5hbWUiKSBpbiBidXQ6DQogICAgICAgICAgICBkYXQudXBkYXRlKHt4LmdldCgibmFtZSIpOnguZ2V0KCJ2YWx1ZSIpfSkNCiAgICB1YmFoUHc9c2Vzc2lvbi5wb3N0KHVybF9tYitsaW5rMi5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0KS50ZXh0DQogICAgcmVzVWJhaD1CZWF1dGlmdWxTb3VwKHViYWhQdywiaHRtbC5wYXJzZXIiKQ0KICAgIGxpbmszPXJlc1ViYWguZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pDQogICAgYnV0Mj1bInN1Ym1pdFtOZXh0XSIsIm5oIiwiZmJfZHRzZyIsImphem9lc3QiXQ0KICAgIGlmICJCdWF0IEthdGEgU2FuZGkgQmFydSIgaW4gcmUuZmluZGFsbCgiXDx0aXRsZT4oLio/KTxcL3RpdGxlPiIsc3RyKHViYWhQdykpOg0KICAgICAgICBmb3IgYiBpbiByZXNVYmFoKCJpbnB1dCIpOg0KICAgICAgICAgICAgaWYgYi5nZXQoIm5hbWUiKSBpbiBidXQyOg0KICAgICAgICAgICAgICAgIGRhdDIudXBkYXRlKHtiLmdldCgibmFtZSIpOmIuZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgZGF0Mi51cGRhdGUoeyJwYXNzd29yZF9uZXciOiIiLmpvaW4obW1rKX0pDQogICAgICAgIGFuPXNlc3Npb24ucG9zdCh1cmxfbWIrbGluazMuZ2V0KCJhY3Rpb24iKSxkYXRhPWRhdDIpDQogICAgICAgIGNva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQogICAgICAgIHByaW50KGYiXHIge059W3tIfVRBUC1ZRVN7Tn1dIHtIfXt1c2VyfSDigKIgeycnLmpvaW4obW1rKX17Tn0iKQ0KICAgICAgICBwcmludChmIlxyIHtBfUNvb2tpZSA6IHtjb2tpfXtOfSIpDQogICAgICAgIG9wZW4oJ3Jlc3VsdHMvVEFCLVlFUy50eHQnLCAnYScpLndyaXRlKGYiW1RBUC1ZRVNdIHt1c2VyfSDigKIgeycnLmpvaW4obW1rKX1cbiIpDQogICAgICAgIGNla19hcGsoc2Vzc2lvbixjb2tpKQ0KIyBDRUsgQVBMSUtBU0kgWUFORyBURVJLQUlUDQpkZWYgY2VrX2FwayhzZXNzaW9uLGNva2kpOg0KICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCiAgICBzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCiAgICBpZiBsZW4oZ2FtZSk9PTA6DQogICAgICAgIHByaW50KGYnXHIgJXNbJXMhJXNdICVzU29ycnkgdGhlcmUgaXMgbm8gQWN0aXZlIEFwayVzICAnJShOLE0sTixNLE4pKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KGYnXHIg8J+OriAgJXNZb3VyIEFjdGl2ZSBBcHBsaWNhdGlvbiBEZXRhaWxzIDonJShIKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHIgJXMlcy4gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpDQogICAgICAgICNlbHNlOg0KICAgICAgICAgICAgI3ByaW50KGYnXHIgJXNbJXMhJXNdIFNvcnJ5LCBBcGsgY2hlY2sgZmFpbGVkIGludmFsaWQgY29va2llJyUoTixNLE4pKQ0KICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciAlc1slcyElc10gJXNTb3JyeSBubyBFeHBpcmVkIEFwayVzICAgICAgICAgICBcbiclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcciDwn46uICAlc1lvdXIgRXhwaXJlZCBBcHBsaWNhdGlvbiBEZXRhaWxzIDonJShNKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHIgJXMlcy4gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiS2VkYWx1d2Fyc2EiLCIgS2VkYWx1d2Fyc2EiKSxOKSkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50KGYnXHInKQ0KICAgICAgICAgICAgI3ByaW50KGYnXHIgJXNbJXMhJXNdIFNvcnJ5LCBBcGsgY2hlY2sgZmFpbGVkIGludmFsaWQgY29va2llXG4nJShOLE0sTikpDQojIE1VTEFJIENSQUNLDQpjbGFzcyBfX2NyYWNrX186DQogDQogICAgZGVmIF9faW5pdF9fKHNlbGYpOg0KICAgICAgICBzZWxmLmlkID0gW10NCiAgICAjIC0tLS0tLS0gTkFNUElMS0FOIEFQTElLQVNJIC0tLS0tLS0tDQogICAgZGVmIHRhbXBpbGthbl9hcGsoc2VsZik6DQogICAgICAgIHByaW50KCIlc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyElc10gRGlzcGxheWluZyB0aGUgYXBwbGljYXRpb24sIHRoZSBhY2NvdW50IHdpbGwgYmUgZWFzaWx5IGhpdCBieSBjaGVja3BvaW50cyBkdWUgdG8gdXNpbmcgZXhjZXNzaXZlIHJlcXVlc3QgbW9kdWxlcy4gSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIGRpc3BsYXkgdGhlIGFwcGxpY2F0aW9uIiUoTixNLE4pKQ0KICAgICAgICAjY3JvdCA9IGlucHV0KGYiIHtOfVt7S30/e059XSBFbnRlciBTQyBQYXNzd29yZCA6IHtIfSIpDQogICAgICAgIGNyb3QgPSBpbnB1dChmIiB7Tn1be0t9P3tOfV0gV2FudCB0byBzaG93IHJlbGF0ZWQgYXBwcyBbe0h9eXtOfS97TX10e059XTogIikNCiAgICAgICAgaWYgY3JvdCBpblsiIl06DQogICAgICAgICAgICBwcmludChmIiB7Tn1be019w5d7Tn1dIERvbid0IGJlIGVtcHR5Iik7c2VsZi50YW1waWxrYW5fYXBrKCkNCiAgICAgICAgZWxpZiBjcm90IGluWyJZIiwieSJdOg0KICAgICAgICAgICAgQXBrLmFwcGVuZCgieSIpDQogICAgICAgIGVsaWYgY3JvdCBpblsiVCIsInQiXToNCiAgICAgICAgICAgIEFway5hcHBlbmQoInQiKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgI2phbGFuKGYiIHtOfVt7TX3Dl3tOfV0gU29ycnksIHdyb25nIHVzZXJuYW1lIik7c2VsZi50YW1waWxrYW5fYXBrKCkNCiAgICAgICAgICAgIHByaW50KGYiIHtOfVt7TX3Dl3tOfV0gQ2hvb3NlIGJldHdlZW4geS90Iik7c2VsZi50YW1waWxrYW5fYXBrKCkNCiMgTUVUT0RFIFNBTkRJIE1BTlVBTA0KICAgIGRlZiBwbGVycihzZWxmLGlkKToNCiAgICAgICAgc2VsZi5pZCA9IGlkDQogICAgICAgIHByaW50KGYnXG4gJXNbJXPigKIlc10gVG90YWwgSUQgOiAlcyVzJXMnICUoTixILE4sSCxsZW4oc2VsZi5pZCksTikpDQogICAgICAgIF9fX3lheWFuZ2FudGVuZ19fXyA9IGlucHV0KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcz8lc10gRW50ZXIgU0MgUGFzc3dvcmQgKCVzcmVxdWlyZWQlcykgOiAlcyclKE4sSyxOLEgsTixIKSkNCiAgICAgICAgaWYgX19feWF5YW5nYW50ZW5nX19fIGluICgncmFyYVknLCAncmFyYXknKToNCiAgICAgICAgICAgIHNlbGYudGFtcGlsa2FuX2FwaygpDQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiAlc01BTlVBTCBQQVNTV09SRCBERVRBSUxTJXMnJShOLEJNLE4pKQ0KICAgICAgICAgICAgcHJpbnQoJyAlc1slcyElc10gVXNlICVzS09NTUElcyBmb3Igc2VwYXJhdG9yXG4gWyVz4oCiJXNdIEV4YW1wbGUgOiAlc+KWk+KWiOKWuuKUgPCfhoLwn4Ww8J+FufCfhbnwn4Ww8J+Fs+KUgOKXhOKWiOKWkzEyMyVzLCVzc2F5YW5nJXMsJXNiaXNtaWxsYWgnJShOLE0sTixILE4sSCxOLEgsTixILE4sSCkpDQogICAgICAgICAgICB3aGlsZSBUcnVlOg0KICAgICAgICAgICAgICAgIHB3ZWsgPSBpbnB1dCgnICVzWyVzPyVzXSBFbnRlciBwYXNzd29yZCA6ICVzJyUoTixLLE4sSCkpDQogICAgICAgICAgICAgICAgcHJpbnQoJyAlc1slc+KAoiVzXSBBY3RpdmUgUGFzc3dvcmQgOiAlcyVzJXMnICUgKE4sSCxOLEgsIHB3ZWssIE4pKQ0KICAgICAgICAgICAgICAgIGlmIHB3ZWsgPT0gJyc6DQogICAgICAgICAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFNvcnJ5LCBpdCBpcyB3cm9uZy4uLiEnJShOLE0sTikpDQogICAgICAgICAgICAgICAgZWxpZiBsZW4ocHdlayk8PTU6DQogICAgICAgICAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFBhc3N3b3JkIG1pbmltdW0gNiBjaGFyYWN0ZXJzJyUoTixNLE4pKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGRlZiBfX3lhbl9fKHlzYz1Ob25lKTogIyB5Y3MgPT4gWWF5YW4gc2F5YW5nIENpbmR5OjMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNpbiA9IGlucHV0KCdcbiAlc1slcz8lc10gQ2hvb3NlIG1ldGhvZCA6ICclKE4sSyxOKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNpbiA9PSAnJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hJyUoTixNLE4pKTtfX3lhbl9fKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgY2luID09ICcxJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMrJXNdIE9LIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQnJShOLEgsTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnICVzWyVzKyVzXSBDUCA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyUoTixLLE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gWyVzISVzXSBNdXN0IGFjdGl2YXRlIGFpcnBsYW5lbW9kZSBvbiBJRCAzMFxuIFslcyElc10gUGxheSBiYWNrIGFpcnBsYW5lbW9kZSBldmVyeSA1MDAgSURcbiBbJXMhJXNdIFRvIHN0b3AgJXNDVFJMK2MlcyBvbiBrZXlib2FyZFxu4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyUoTixNLE4sTSxOLE0sTixILE4pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggWWF5YW5HYW50ZW5nKG1heF93b3JrZXJzPTMwKSBhcyAoX195YXlhblhEX18pOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaWtlaCBpbiBzZWxmLmlkOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbW9jaGkgPSBpa2VoLnNwbGl0KCc8PT4nKVswXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9feWF5YW5YRF9fLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sIGtpbW9jaGksIHlzYywgImZyZWUuZmFjZWJvb2suY29tIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDogcGFzcw0KIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2lsKG9rLGNwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBjaW4gPT0gJzInOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyslc10gT0sgOiByZXN1bHRzL09LLSVzLSVzLSVzLnR4dCclKE4sSCxOLGhhLCBvcCwgdGEpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgJXNbJXMrJXNdIENQIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnJShOLEssTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMhJXNdIE11c3QgYWN0aXZhdGUgYWlycGxhbmVtb2RlIG9uIElEIDMwXG4gWyVzISVzXSBQbGF5IGJhY2sgYWlycGxhbmVtb2RlIGV2ZXJ5IDUwMCBJRFxuIFslcyElc10gVG8gc3RvcCAlc0NUUkwrYyVzIG9uIGtleWJvYXJkXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOLE0sTixNLE4sTSxOLEgsTikpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBZYXlhbkdhbnRlbmcobWF4X3dvcmtlcnM9MzApIGFzIChfX3lheWFuWERfXyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpa2VoIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2ltb2NoaSA9IGlrZWguc3BsaXQoJzw9PicpWzBdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX195YXlhblhEX18uc3VibWl0KHNlbGYuX19tZXRvZGVfXywga2ltb2NoaSwgeXNjLCAibWJhc2ljLmZhY2Vib29rLmNvbSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MNCiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNpbChvayxjcCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgY2luID09ICczJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMrJXNdIE9LIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQnJShOLEgsTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnICVzWyVzKyVzXSBDUCA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyUoTixLLE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gWyVzISVzXSBNdXN0IGFjdGl2YXRlIGFpcnBsYW5lbW9kZSBvbiBJRCAzMFxuIFslcyElc10gUGxheSBiYWNrIGFpcnBsYW5lbW9kZSBldmVyeSA1MDAgSURcbiBbJXMhJXNdIFRvIHN0b3AgJXNDVFJMK2MlcyBvbiBrZXlib2FyZFxu4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyUoTixNLE4sTSxOLE0sTixILE4pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggWWF5YW5HYW50ZW5nKG1heF93b3JrZXJzPTMwKSBhcyAoX195YXlhblhEX18pOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaWtlaCBpbiBzZWxmLmlkOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbW9jaGkgPSBpa2VoLnNwbGl0KCc8PT4nKVswXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9feWF5YW5YRF9fLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sIGtpbW9jaGksIHlzYywgIm1iYXNpYy5mYWNlYm9vay5jb20iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OiBwYXNzDQogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaWwob2ssY3ApDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgWyVzw5clc10gU29ycnksIGl0IGlzIHdyb25nLi4uISclKE4sTSxOKSk7X195YW5fXygpDQogICAgICAgICAgICAgICAgICAgIG1lbnRvZCgpDQogICAgICAgICAgICAgICAgICAgIF9feWFuX18ocHdlay5zcGxpdCgnLCcpKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICBlbGlmIF9fX3lheWFuZ2FudGVuZ19fXyBpbiAoJ01FVEHilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpNJRCcsICdNZXRh4paT4paI4pa64pSA8J+GgvCfhbDwn4W58J+FufCfhbDwn4Wz4pSA4peE4paI4paTaWQnLCAnbWV0YeKWk+KWiOKWuuKUgPCfhoLwn4Ww8J+FufCfhbnwn4Ww8J+Fs+KUgOKXhOKWiOKWk2lkJyk6DQogICAgICAgICAgICBzZWxmLnRhbXBpbGthbl9hcGsoKQ0KICAgICAgICAgICAgbWVudG9kKCkNCiAgICAgICAgICAgIHNlbGYuX19wbGVyX18oKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgamFsYW4oJyAlc1slc8OXJXNdIFNvcnJ5LCB3cm9uZyBTQyBQYXNzd29yZCclKE4sTSxOKSk7c2VsZi5wbGVycihpZCkNCiAgICAgICAgICAgICNwcmludCgnXG4gJXNbJXPDlyVzXSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hJyUoTixNLE4pKTtzZWxmLnBsZXJyKGlkKQ0KIyBQUk9TRVMgQ1JBQ0sgTUVUT0RFIDMgaW4gMQ0KICAgIGRlZiBfX21ldG9kZV9fKHNlbGYsIGNlYm9rLCB1c2VyLCBwYXN3KToNCiAgICAgICAgZ2xvYmFsIG9rLGNwLGxvb3ANCiAgICAgICAgYW5pbWFzaSA9IHJhbmRvbS5jaG9pY2UoWyJceDFiWzE7OTFtWz9dIiwiXHgxYlsxOzkybVs/XSIsIlx4MWJbMTs5M21bP10iLCJceDFiWzE7OTRtWz9dIiwiXHgxYlsxOzk1bVs/XSIsIlx4MWJbMTs5Nm1bP10iLCJceDFiWzE7OTdtWz9dIl0pDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7Tn17YW5pbWFzaX0ge059e2xvb3B9e059L3tNfXtsZW4oc2VsZi5pZCl9IHtOfVt7SH1PSzp7bGVuKG9rKX17Tn1dW3tLfUNQOntsZW4oY3ApfXtOfV0gW3tIfXsnezouMSV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oc2VsZi5pZCkpKX17Tn1dIikNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHRyeTpvcy5ta2RpcigncmVzdWx0cycpDQogICAgICAgIGV4Y2VwdDpwYXNzDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGZvciBwdyBpbiBwYXN3Og0KICAgICAgICAgICAgICAgIHB3ID0gcHcubG93ZXIoKQ0KICAgICAgICAgICAgICAgIHNlc3Npb249cmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgbmlwPXJhbmRvbS5jaG9pY2UocHJveCkNCiAgICAgICAgICAgICAgICBwcm94cz0geydodHRwJzogJ3NvY2tzNDovLycrbmlwfQ0KICAgICAgICAgICAgICAgICN1YTEgPSByYW5kb20uY2hvaWNlKGFnZW4xKQ0KICAgICAgICAgICAgICAgICN1YTIgPSByYW5kb20uY2hvaWNlKGFnZW4yKQ0KICAgICAgICAgICAgICAgIHVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KICAgICAgICAgICAgICAgIHVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpDQogICAgICAgICAgICAgICAgc2Vzc2lvbi5oZWFkZXJzLnVwZGF0ZSh7J0hvc3QnOiBjZWJvaywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfSkNCiAgICAgICAgICAgICAgICBwID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vJytjZWJvaysnL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScrdXNlcisnJmZsb3c9bG9naW5fbm9fcGluJm5leHQ9aHR0cHMlM0ElMkYlMkZtLmZhY2Vib29rLmNvbSUyRnYyLjMlMkZkaWFsb2clMkZvYXV0aCUzRmFwcF9pZCUzRDEyNDAyNDU3NDI4NzQxNCUyNmNidCUzRDE2NTE2NTgyMDA5NzglMjZlMmUlM0QlMjU3QiUyNTIyaW5pdCUyNTIyJTI1M0ExNjUxNjU4MjAwOTc4JTI1N0QlMjZzc28lM0RjaHJvbWVfY3VzdG9tX3RhYiUyNnNjb3BlJTNEZW1haWwlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QlMjZyZWRpcmVjdF91cmklM0RmYmNvbm5lY3QlMjUzQSUyNTJGJTI1MkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlMjZyZXNwb25zZV90eXBlJTNEdG9rZW4lMjUyQ3NpZ25lZF9yZXF1ZXN0JTI1MkNncmFwaF9kb21haW4lMjUyQ2dyYW50ZWRfc2NvcGVzJTI2cmV0dXJuX3Njb3BlcyUzRHRydWUlMjZyZXQlM0Rsb2dpbiUyNmZiYXBwX3ByZXMlM0QwJTI2bG9nZ2VyX2lkJTNENjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI2dHAlM0R1bnNwZWNpZmllZCZjYW5jZWxfdXJsPWZiY29ubmVjdCUzQSUyRiUyRmNjdC5jb20uaW5zdGF0aHVuZGVyLmFwcCUzRmVycm9yJTNEYWNjZXNzX2RlbmllZCUyNmVycm9yX2NvZGUlM0QyMDAlMjZlcnJvcl9kZXNjcmlwdGlvbiUzRFBlcm1pc3Npb25zJTJCZXJyb3IlMjZlcnJvcl9yZWFzb24lM0R1c2VyX2RlbmllZCUyNnN0YXRlJTNEJTI1N0IlMjUyMjBfYXV0aF9sb2dnZXJfaWQlMjUyMiUyNTNBJTI1MjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjUyMiUyNTJDJTI1MjI3X2NoYWxsZW5nZSUyNTIyJTI1M0ElMjUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTI1MjIlMjUyQyUyNTIyM19tZXRob2QlMjUyMiUyNTNBJTI1MjJjdXN0b21fdGFiJTI1MjIlMjU3RCZkaXNwbGF5PXRvdWNoJmxvY2FsZT1pZF9JRCZwbF9kYmw9MCZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJykNCiAgICAgICAgICAgICAgICBkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6dXNlciwibmV4dCI6Imh0dHBzOi8vIitjZWJvaysiL3YyLjMvZGlhbG9nL29hdXRoP2FwcF9pZD0xMjQwMjQ1NzQyODc0MTQmY2J0PTE2NTE2NTgyMDA5NzgmZTJlPSU3QiUyMmluaXQlMjIlM0ExNjUxNjU4MjAwOTc4JTdEJnNzbz1jaHJvbWVfY3VzdG9tX3RhYiZzY29wZT1lbWFpbCZzdGF0ZT0lN0IlMjIwX2F1dGhfbG9nZ2VyX2lkJTIyJTNBJTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTIyJTJDJTIyN19jaGFsbGVuZ2UlMjIlM0ElMjJkYWhqMjhocXRpZXRtaHJncHJwcCUyMiUyQyUyMjNfbWV0aG9kJTIyJTNBJTIyY3VzdG9tX3RhYiUyMiU3RCZyZWRpcmVjdF91cmk9ZmJjb25uZWN0JTNBJTJGJTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJnJlc3BvbnNlX3R5cGU9dG9rZW4lMkNzaWduZWRfcmVxdWVzdCUyQ2dyYXBoX2RvbWFpbiUyQ2dyYW50ZWRfc2NvcGVzJnJldHVybl9zY29wZXM9dHJ1ZSZyZXQ9bG9naW4mZmJhcHBfcHJlcz0wJmxvZ2dlcl9pZD02OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYmdHA9dW5zcGVjaWZpZWQiLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQ0KICAgICAgICAgICAgICAgIGtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQogICAgICAgICAgICAgICAga29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2Jw0KICAgICAgICAgICAgICAgIGhlYWRlPXsnSG9zdCc6IGNlYm9rLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly8nK2NlYm9rLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovLycrY2Vib2srJy9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK3VzZXIrJyZmbG93PWxvZ2luX25vX3BpbiZuZXh0PWh0dHBzJTNBJTJGJTJGbS5mYWNlYm9vay5jb20lMkZ2Mi4zJTJGZGlhbG9nJTJGb2F1dGglM0ZhcHBfaWQlM0QxMjQwMjQ1NzQyODc0MTQlMjZjYnQlM0QxNjUxNjU4MjAwOTc4JTI2ZTJlJTNEJTI1N0IlMjUyMmluaXQlMjUyMiUyNTNBMTY1MTY1ODIwMDk3OCUyNTdEJTI2c3NvJTNEY2hyb21lX2N1c3RvbV90YWIlMjZzY29wZSUzRGVtYWlsJTI2c3RhdGUlM0QlMjU3QiUyNTIyMF9hdXRoX2xvZ2dlcl9pZCUyNTIyJTI1M0ElMjUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNTIyJTI1MkMlMjUyMjdfY2hhbGxlbmdlJTI1MjIlMjUzQSUyNTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjUyMiUyNTJDJTI1MjIzX21ldGhvZCUyNTIyJTI1M0ElMjUyMmN1c3RvbV90YWIlMjUyMiUyNTdEJTI2cmVkaXJlY3RfdXJpJTNEZmJjb25uZWN0JTI1M0ElMjUyRiUyNTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTI2cmVzcG9uc2VfdHlwZSUzRHRva2VuJTI1MkNzaWduZWRfcmVxdWVzdCUyNTJDZ3JhcGhfZG9tYWluJTI1MkNncmFudGVkX3Njb3BlcyUyNnJldHVybl9zY29wZXMlM0R0cnVlJTI2cmV0JTNEbG9naW4lMjZmYmFwcF9wcmVzJTNEMCUyNmxvZ2dlcl9pZCUzRDY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNnRwJTNEdW5zcGVjaWZpZWQmY2FuY2VsX3VybD1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlM0ZlcnJvciUzRGFjY2Vzc19kZW5pZWQlMjZlcnJvcl9jb2RlJTNEMjAwJTI2ZXJyb3JfZGVzY3JpcHRpb24lM0RQZXJtaXNzaW9ucyUyQmVycm9yJTI2ZXJyb3JfcmVhc29uJTNEdXNlcl9kZW5pZWQlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QmZGlzcGxheT10b3VjaCZsb2NhbGU9aWRfSUQmcGxfZGJsPTAmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9DQogICAgICAgICAgICAgICAgcG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vJytjZWJvaysnL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJmxvY2FsZTI9aWRfSUQnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpDQogICAgICAgICAgICAgICAgaWYgImNfdXNlciIgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgICAgICAgICAgICAgIGNvb3ogPSBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKQ0KICAgICAgICAgICAgICAgICAgICBjb2tpID0gJ2RhdHI9JyArIGNvb3pbJ2RhdHInXSArICc7JyArICgnY191c2VyPScgKyBjb296WydjX3VzZXInXSkgKyAnOycgKyAoJ2ZyPScgKyBjb296WydmciddKSArICc7JyArICgneHM9JyArIGNvb3pbJ3hzJ10pDQogICAgICAgICAgICAgICAgICAgIGlmICJ0IiBpbiBBcGs6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIgJXNNRVRBIExJVkUgT0sgJXMgICAgICAgICAgICAgICBcbiBVc2VybmFtZSA6ICVzXG4gUGFzc3dvcmQgOiAlcyVzJyUoSCx3YWt0dSx1c2VyLHB3LE4pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcciB7SH1Db29raWUgICA6IHtjb2tpfVxuJykNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAieSIgaW4gQXBrOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcciAlc01FVEEgTElWRSBPSyAlcyAgICAgICAgICAgICAgIFxuIFVzZXJuYW1lIDogJXNcbiBQYXNzd29yZCA6ICVzJXMnJShILHdha3R1LHVzZXIscHcsTikpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xyIHtIfUNvb2tpZSAgIDoge2Nva2l9JykNCiAgICAgICAgICAgICAgICAgICAgd3J0ID0gJ1vilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtT0tdICVzIOKAoiAlcycgJSAodXNlcixwdykNCiAgICAgICAgICAgICAgICAgICAgb2suYXBwZW5kKHdydCkNCiAgICAgICAgICAgICAgICAgICAgY2VrX2FwayhzZXNzaW9uLGNva2kpDQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ3Jlc3VsdHMvT0stJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwgJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VueiA9IG9wZW4oJy50b2tlbi50eHQnKS5yZWFkKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwX3R0bCA9IHNlc3Npb24uZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJ9P2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0nKS5qc29uKClbJ2JpcnRoZGF5J10NCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSBidWxhbl90dGxbbW9udGhdDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIgJXNNRVRBIExJVkUgQ1AgJXMgICAgICAgICAgICAgICBcbiBVc2VybmFtZSA6ICVzXG4gUGFzc3dvcmQgOiAlc1xuIFRhbmdnYWwgTGFoaXIgOiAlcyAlcyAlcyVzXG4nJShLLHdha3R1LHVzZXIscHcsZGF5LG1vbnRoLHllYXIsTikpDQogICAgICAgICAgICAgICAgICAgICAgICB3cnQgPSAnW+KWk+KWiOKWuuKUgPCfhoLwn4Ww8J+FufCfhbnwn4Ww8J+Fs+KUgOKXhOKWiOKWky1DUF0gJXMg4oCiICVzIOKAoiAlcyAlcyAlcycgJSAodXNlcixwdyxkYXksbW9udGgseWVhcikNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmFwcGVuZCh3cnQpDQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6DQogICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9ICcnDQogICAgICAgICAgICAgICAgICAgICAgICBkYXkgICA9ICcnDQogICAgICAgICAgICAgICAgICAgICAgICB5ZWFyICA9ICcnDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdDpwYXNzDQogICAgICAgICAgICAgICAgICAgIHByaW50KCdcciAlc01FVEEgTElWRSBDUCAlcyAgICAgICAgICAgICAgIFxuIFVzZXJuYW1lIDogJXNcbiBQYXNzd29yZCA6ICVzJXNcbiclKEssd2FrdHUsdXNlcixwdyxOKSkNCiAgICAgICAgICAgICAgICAgICAgd3J0ID0gJ1vilpPilojilrrilIDwn4aC8J+FsPCfhbnwn4W58J+FsPCfhbPilIDil4TilojilpMtQ1BdICVzIOKAoiAlcycgJSAodXNlcixwdykNCiAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKHdydCkNCiAgICAgICAgICAgICAgICAgICAgb3BlbigncmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgICAgICN0aW1lLnNsZWVwKDMxKQ0KICAgICAgICAgICAgbG9vcCs9MQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICBzZWxmLl9fbWV0b2RlX18oY2Vib2ssIHVzZXIsIHBhc3cpDQogDQogDQogICAgZGVmIF9fcGxlcl9fKHNlbGYpOg0KICAgICAgICB5YW4gPSBpbnB1dCgnXG4gJXNbJXM/JXNdIENob29zZSBNZXRob2QgOiAnJShOLEssTikpDQogICAgICAgIGlmIHlhbiA9PSAnJzoNCiAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFNvcnJ5LCBpdCBpcyB3cm9uZy4uLiEnJShOLE0sTikpO3NlbGYuX19wbGVyX18oKQ0KICAgICAgICBlbGlmIHlhbiBpbiAoJzEnLCAnMDEnKToNCiAgICAgICAgICAgIHh4ID0gImZyZWUuZmFjZWJvb2suY29tIg0KICAgICAgICAgICAgc2VsZi5rb21iaW5hc2lfcHcoeHgpDQogICAgICAgIGVsaWYgeWFuIGluICgnMicsICcwMicpOg0KICAgICAgICAgICAgeHggPSAibWJhc2ljLmZhY2Vib29rLmNvbSINCiAgICAgICAgICAgIHNlbGYua29tYmluYXNpX3B3KHh4KQ0KICAgICAgICBlbGlmIHlhbiBpbiAoJzMnLCAnMDMnKToNCiAgICAgICAgICAgIHh4ID0gIm0uZmFjZWJvb2suY29tIg0KICAgICAgICAgICAgc2VsZi5rb21iaW5hc2lfcHcoeHgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hJyUoTixNLE4pKTtzZWxmLl9fcGxlcl9fKCkNCiANCiAgICBkZWYga29tYmluYXNpX3B3KHNlbGYsdXJsKToNCiAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNQQVNTV09SRCBNRU5VJXMnJShOLEJNLE4pKQ0KICAgICAgICBwcmludCgnICVzWyVzMSVzXSBuYW1hLG5hbWExMjMsbmFtYTEyMzQ1JyUoTixILE4pKQ0KICAgICAgICBwcmludCgnICVzWyVzMiVzXSBuYW1hLG5hbWExMjMsbmFtYTEyMzQsbmFtYTEyMzQ1JyUoTixILE4pKQ0KICAgICAgICBwcmludCgnICVzWyVzMyVzXSBuYW1hLG5hbWExMjMsbmFtYTEyMzQsbmFtYTEyMzQ1LCVzK1NhbmRpJXMnJShOLEgsTixILE4pKQ0KICAgICAgICBwdyA9IGlucHV0KGYiXG4ge059W3tLfT97Tn1dIENob29zZSBQYXNzd29yZCBNZXRob2QgOiAiKQ0KICAgICAgICBpZiBwdyBpblsiIl06DQogICAgICAgICAgICBwcmludChmIiB7Tn1be019IXtOfV0gRG9uJ3QgYmUgZW1wdHkiKTtzZWxmLmtvbWJpbmFzaV9wdyh1cmwpDQogICAgICAgIGVsaWYgcHcgaW5bIjEiLCIwMSJdOg0KICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gWyVzKyVzXSBPSyA6IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0JyUoTixILE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICBwcmludCgnICVzWyVzKyVzXSBDUCA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyUoTixLLE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMhJXNdIE11c3QgYWN0aXZhdGUgYWlycGxhbmVtb2RlIG9uIElEIDMwXG4gWyVzISVzXSBQbGF5IGJhY2sgYWlycGxhbmVtb2RlIGV2ZXJ5IDUwMCBJRFxuIFslcyElc10gVG8gc3RvcCAlc0NUUkwrYyVzIG9uIGtleWJvYXJkXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOLE0sTixNLE4sTSxOLEgsTikpDQogICAgICAgICAgICB3aXRoIFlheWFuR2FudGVuZyhtYXhfd29ya2Vycz0zNSkgYXMga2lyaW06DQogICAgICAgICAgICAgICAgZm9yIHludGt0cyBpbiBzZWxmLmlkOg0KICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgdWlkLCBuYW1lID0geW50a3RzLnNwbGl0KCc8PT4nKQ0KICAgICAgICAgICAgICAgICAgICAgICB4eiA9IG5hbWUuc3BsaXQoJyAnKQ0KICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oeHopID09IDMgb3IgbGVuKHh6KSA9PSA0IG9yIGxlbih4eikgPT0gNSBvciBsZW4oeHopID09IDY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNDUiXQ0KICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1Il0NCiAgICAgICAgICAgICAgICAgICAgICAga2lyaW0uc3VibWl0KHNlbGYuX19tZXRvZGVfXyx1cmwsdWlkLHB3eCkNCiAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgaGFzaWwob2ssY3ApDQogICAgICAgIGVsaWYgcHcgaW5bIjIiLCIwMiJdOg0KICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gWyVzKyVzXSBPSyA6IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0JyUoTixILE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICBwcmludCgnICVzWyVzKyVzXSBDUCA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyUoTixLLE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMhJXNdIE11c3QgYWN0aXZhdGUgYWlycGxhbmVtb2RlIG9uIElEIDMwXG4gWyVzISVzXSBQbGF5IGJhY2sgYWlycGxhbmVtb2RlIGV2ZXJ5IDUwMCBJRFxuIFslcyElc10gVG8gc3RvcCAlc0NUUkwrYyVzIG9uIGtleWJvYXJkXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOLE0sTixNLE4sTSxOLEgsTikpDQogICAgICAgICAgICB3aXRoIFlheWFuR2FudGVuZyhtYXhfd29ya2Vycz0zNSkgYXMga2lyaW06DQogICAgICAgICAgICAgICAgZm9yIHludGt0cyBpbiBzZWxmLmlkOg0KICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgdWlkLCBuYW1lID0geW50a3RzLnNwbGl0KCc8PT4nKQ0KICAgICAgICAgICAgICAgICAgICAgICB4eiA9IG5hbWUuc3BsaXQoJyAnKQ0KICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oeHopID09IDMgb3IgbGVuKHh6KSA9PSA0IG9yIGxlbih4eikgPT0gNSBvciBsZW4oeHopID09IDY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0reHpbMV1dDQogICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0reHpbMV1dDQogICAgICAgICAgICAgICAgICAgICAgIGtpcmltLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sdXJsLHVpZCxwd3gpDQogICAgICAgICAgICAgICAgICAgZXhjZXB0OnBhc3MNCiAgICAgICAgICAgIGhhc2lsKG9rLGNwKQ0KICAgICAgICBlbGlmIHB3IGluWyIzIiwiMDMiXToNCiAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuICVzQURESVRJT05BTCBQQVNTV09SRCBNRU5VJXMnJShOLEJNLE4pKQ0KICAgICAgICAgICAgI3ByaW50KCIgJXNbJXMhJXNdIFNlbWFraW4gYmFueWFrIGtvbWJpbmFzaSBwYXNzd29yZCBzZW1ha2luIGxhbWEgcHJvc2VzIGNyYWNrISIlKE4sTSxOKSkNCiAgICAgICAgICAgIHByaW50KCIgJXNbJXMhJXNdIFVzZSAlc0tPTU1BJXMgZm9yIHNlcGFyYXRvciIlKE4sTSxOLEgsTikpDQogICAgICAgICAgICBwcmludCgiICVzWyVzISVzXSBFeGFtcGxlIDogJXNzYXlhbmcscmFoYXNpYSxiaXNtaWxsYWglcyIlKE4sTSxOLEgsTikpDQogICAgICAgICAgICBwdyA9IGlucHV0KGYiIHtOfVt7S30/e059XSBFbnRlciBhZGRpdGlvbmFsIHBhc3N3b3JkIDoge0h9Iikuc3BsaXQoIiwiKQ0KICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gWyVzKyVzXSBPSyA6IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0JyUoTixILE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICBwcmludCgnICVzWyVzKyVzXSBDUCA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyUoTixLLE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMhJXNdIE11c3QgYWN0aXZhdGUgYWlycGxhbmVtb2RlIG9uIElEIDMwXG4gWyVzISVzXSBQbGF5IGJhY2sgYWlycGxhbmVtb2RlIGV2ZXJ5IDUwMCBJRFxuIFslcyElc10gVG8gc3RvcCAlc0NUUkwrYyVzIG9uIGtleWJvYXJkXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOLE0sTixNLE4sTSxOLEgsTikpDQogICAgICAgICAgICB3aXRoIFlheWFuR2FudGVuZyhtYXhfd29ya2Vycz0zNSkgYXMga2lyaW06DQogICAgICAgICAgICAgICAgZm9yIHludGt0cyBpbiBzZWxmLmlkOg0KICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgdWlkLCBuYW1lID0geW50a3RzLnNwbGl0KCc8PT4nKQ0KICAgICAgICAgICAgICAgICAgICAgICB4eiA9IG5hbWUuc3BsaXQoJyAnKQ0KICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oeHopID09IDMgb3IgbGVuKHh6KSA9PSA0IG9yIGxlbih4eikgPT0gNSBvciBsZW4oeHopID09IDY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICB4eHggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0reHpbMV1dDQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSB4eHggKyBwdw0KICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgeHh4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdK3h6WzFdXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0geHh4ICsgcHcNCiAgICAgICAgICAgICAgICAgICAgICAga2lyaW0uc3VibWl0KHNlbGYuX19tZXRvZGVfXyx1cmwsdWlkLHB3eCkNCiAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgaGFzaWwob2ssY3ApDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludChmIlxuIHtOfVt7TX0he059XSBDb3JyZWN0IGlucHV0Iik7c2VsZi5rb21iaW5hc2lfcHcodXJsKQ0KIA0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCiAgICBjZWtfcHcoKTttb2NoX3lheWFuKCkNCiAgICAjY2VrX3B3KCkNCiA="))